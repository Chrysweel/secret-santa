(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Of={exports:{}},kl={};var Ey;function lT(){if(Ey)return kl;Ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var Ty;function uT(){return Ty||(Ty=1,Of.exports=lT()),Of.exports}var st=uT(),Mf={exports:{}},_t={};var Ay;function oT(){if(Ay)return _t;Ay=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ut(N,Y,et){this.props=N,this.context=Y,this.refs=J,this.updater=et||Z}ut.prototype.isReactComponent={},ut.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ut.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function gt(){}gt.prototype=ut.prototype;function dt(N,Y,et){this.props=N,this.context=Y,this.refs=J,this.updater=et||Z}var Qt=dt.prototype=new gt;Qt.constructor=dt,W(Qt,ut.prototype),Qt.isPureReactComponent=!0;var $t=Array.isArray;function xt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(N,Y,et){var at=et.ref;return{$$typeof:s,type:N,key:Y,ref:at!==void 0?at:null,props:et}}function O(N,Y){return w(N.type,Y,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function z(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function ne(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):Y.toString(36)}function we(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(xt,xt):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,et,at,pt){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Nt=!1;if(N===null)Nt=!0;else switch(At){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(N.$$typeof){case s:case e:Nt=!0;break;case A:return Nt=N._init,G(Nt(N._payload),Y,et,at,pt)}}if(Nt)return pt=pt(N),Nt=at===""?"."+ne(N,0):at,$t(pt)?(et="",Nt!=null&&(et=Nt.replace(R,"$&/")+"/"),G(pt,Y,et,"",function(La){return La})):pt!=null&&(I(pt)&&(pt=O(pt,et+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Nt)),Y.push(pt)),1;Nt=0;var De=at===""?".":at+":";if($t(N))for(var ie=0;ie<N.length;ie++)at=N[ie],At=De+ne(at,ie),Nt+=G(at,Y,et,At,pt);else if(ie=j(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(at=N.next()).done;)at=at.value,At=De+ne(at,ie++),Nt+=G(at,Y,et,At,pt);else if(At==="object"){if(typeof N.then=="function")return G(we(N),Y,et,at,pt);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function tt(N,Y,et){if(N==null)return N;var at=[],pt=0;return G(N,at,"","",function(At){return Y.call(et,At,pt++)}),at}function ht(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var zt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Pt={map:tt,forEach:function(N,Y,et){tt(N,function(){Y.apply(this,arguments)},et)},count:function(N){var Y=0;return tt(N,function(){Y++}),Y},toArray:function(N){return tt(N,function(Y){return Y})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return _t.Activity=b,_t.Children=Pt,_t.Component=ut,_t.Fragment=i,_t.Profiler=u,_t.PureComponent=dt,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},_t.cache=function(N){return function(){return N.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(N,Y,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=W({},N.props),pt=N.key;if(Y!=null)for(At in Y.key!==void 0&&(pt=""+Y.key),Y)!S.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(at[At]=Y[At]);var At=arguments.length-2;if(At===1)at.children=et;else if(1<At){for(var Nt=Array(At),De=0;De<At;De++)Nt[De]=arguments[De+2];at.children=Nt}return w(N.type,pt,at)},_t.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},_t.createElement=function(N,Y,et){var at,pt={},At=null;if(Y!=null)for(at in Y.key!==void 0&&(At=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=Y[at]);var Nt=arguments.length-2;if(Nt===1)pt.children=et;else if(1<Nt){for(var De=Array(Nt),ie=0;ie<Nt;ie++)De[ie]=arguments[ie+2];pt.children=De}if(N&&N.defaultProps)for(at in Nt=N.defaultProps,Nt)pt[at]===void 0&&(pt[at]=Nt[at]);return w(N,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(N){return{$$typeof:y,render:N}},_t.isValidElement=I,_t.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ht}},_t.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},_t.startTransition=function(N){var Y=D.T,et={};D.T=et;try{var at=N(),pt=D.S;pt!==null&&pt(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,zt)}catch(At){zt(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(N){return D.H.use(N)},_t.useActionState=function(N,Y,et){return D.H.useActionState(N,Y,et)},_t.useCallback=function(N,Y){return D.H.useCallback(N,Y)},_t.useContext=function(N){return D.H.useContext(N)},_t.useDebugValue=function(){},_t.useDeferredValue=function(N,Y){return D.H.useDeferredValue(N,Y)},_t.useEffect=function(N,Y){return D.H.useEffect(N,Y)},_t.useEffectEvent=function(N){return D.H.useEffectEvent(N)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(N,Y,et){return D.H.useImperativeHandle(N,Y,et)},_t.useInsertionEffect=function(N,Y){return D.H.useInsertionEffect(N,Y)},_t.useLayoutEffect=function(N,Y){return D.H.useLayoutEffect(N,Y)},_t.useMemo=function(N,Y){return D.H.useMemo(N,Y)},_t.useOptimistic=function(N,Y){return D.H.useOptimistic(N,Y)},_t.useReducer=function(N,Y,et){return D.H.useReducer(N,Y,et)},_t.useRef=function(N){return D.H.useRef(N)},_t.useState=function(N){return D.H.useState(N)},_t.useSyncExternalStore=function(N,Y,et){return D.H.useSyncExternalStore(N,Y,et)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.1",_t}var Sy;function pd(){return Sy||(Sy=1,Mf.exports=oT()),Mf.exports}var $e=pd(),xf={exports:{}},Hl={},zf={exports:{}},Uf={};var by;function cT(){return by||(by=1,(function(s){function e(G,tt){var ht=G.length;G.push(tt);t:for(;0<ht;){var zt=ht-1>>>1,Pt=G[zt];if(0<u(Pt,tt))G[zt]=tt,G[ht]=Pt,ht=zt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var tt=G[0],ht=G.pop();if(ht!==tt){G[0]=ht;t:for(var zt=0,Pt=G.length,N=Pt>>>1;zt<N;){var Y=2*(zt+1)-1,et=G[Y],at=Y+1,pt=G[at];if(0>u(et,ht))at<Pt&&0>u(pt,et)?(G[zt]=pt,G[at]=ht,zt=at):(G[zt]=et,G[Y]=ht,zt=Y);else if(at<Pt&&0>u(pt,ht))G[zt]=pt,G[at]=ht,zt=at;else break t}}return tt}function u(G,tt){var ht=G.sortIndex-tt.sortIndex;return ht!==0?ht:G.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,x=3,j=!1,Z=!1,W=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Qt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=G)r(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function $t(G){if(W=!1,Qt(G),!Z)if(i(v)!==null)Z=!0,xt||(xt=!0,z());else{var tt=i(_);tt!==null&&we($t,tt.startTime-G)}}var xt=!1,D=-1,S=5,w=-1;function O(){return J?!0:!(s.unstable_now()-w<S)}function I(){if(J=!1,xt){var G=s.unstable_now();w=G;var tt=!0;try{t:{Z=!1,W&&(W=!1,gt(D),D=-1),j=!0;var ht=x;try{e:{for(Qt(G),b=i(v);b!==null&&!(b.expirationTime>G&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,x=b.priorityLevel;var Pt=zt(b.expirationTime<=G);if(G=s.unstable_now(),typeof Pt=="function"){b.callback=Pt,Qt(G),tt=!0;break e}b===i(v)&&r(v),Qt(G)}else r(v);b=i(v)}if(b!==null)tt=!0;else{var N=i(_);N!==null&&we($t,N.startTime-G),tt=!1}}break t}finally{b=null,x=ht,j=!1}tt=void 0}}finally{tt?z():xt=!1}}}var z;if(typeof dt=="function")z=function(){dt(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=I,z=function(){ne.postMessage(null)}}else z=function(){ut(I,0)};function we(G,tt){D=ut(function(){G(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ht=x;x=tt;try{return G()}finally{x=ht}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=x;x=G;try{return tt()}finally{x=ht}},s.unstable_scheduleCallback=function(G,tt,ht){var zt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,G){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ht+Pt,G={id:A++,callback:tt,priorityLevel:G,startTime:ht,expirationTime:Pt,sortIndex:-1},ht>zt?(G.sortIndex=ht,e(_,G),i(v)===null&&G===i(_)&&(W?(gt(D),D=-1):W=!0,we($t,ht-zt))):(G.sortIndex=Pt,e(v,G),Z||j||(Z=!0,xt||(xt=!0,z()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var tt=x;return function(){var ht=x;x=tt;try{return G.apply(this,arguments)}finally{x=ht}}}})(Uf)),Uf}var Ry;function hT(){return Ry||(Ry=1,zf.exports=cT()),zf.exports}var Lf={exports:{}},Qe={};var Cy;function fT(){if(Cy)return Qe;Cy=1;var s=pd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:j}):A==="script"&&r.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.1",Qe}var wy;function dT(){if(wy)return Lf.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=fT(),Lf.exports}var Dy;function mT(){if(Dy)return Hl;Dy=1;var s=hT(),e=pd(),i=dT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case $t:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case dt:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case Qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],Pt=-1;function N(t){return{current:t}}function Y(t){0>Pt||(t.current=zt[Pt],zt[Pt]=null,Pt--)}function et(t,n){Pt++,zt[Pt]=t.current,t.current=n}var at=N(null),pt=N(null),At=N(null),Nt=N(null);function De(t,n){switch(et(At,n),et(pt,t),et(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(at),et(at,t)}function ie(){Y(at),Y(pt),Y(At)}function La(t){t.memoizedState!==null&&et(Nt,t);var n=at.current,a=Gp(n,t.type);n!==a&&(et(pt,t),et(at,a))}function Cr(t){pt.current===t&&(Y(at),Y(pt)),Nt.current===t&&(Y(Nt),Bl._currentValue=ht)}var wr,Dr;function Yn(t){if(wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);wr=n&&n[1]||"",Dr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+Dr}var Bs=!1;function Ba(t,n){if(!t||Bs)return"";Bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var q=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){q=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){q=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Bs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function qs(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Yn("Activity");default:return""}}function js(t){try{var n="",a=null;do n+=qs(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,Qi=s.unstable_cancelCallback,Mc=s.unstable_shouldYield,du=s.unstable_requestPaint,Ke=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,Ps=s.unstable_ImmediatePriority,ks=s.unstable_UserBlockingPriority,Fi=s.unstable_NormalPriority,xc=s.unstable_LowPriority,mu=s.unstable_IdlePriority,gu=s.log,pu=s.unstable_setDisableYieldValue,xn=null,Ue=null;function vn(t){if(typeof gu=="function"&&pu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(xn,t)}catch{}}var oe=Math.clz32?Math.clz32:_u,yu=Math.log,Vr=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(yu(t)/Vr|0)|0}var Xn=256,ja=262144,pe=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-oe(a),F=1<<H;E[H]=0,C[H]=-1;var q=B[H];if(q!==null)for(B[H]=null,H=0;H<q.length;H++){var k=q[H];k!==null&&(k.lane&=-536870913)}a&=~F}l!==0&&ka(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Hs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gs(t,n){var a=n&-n;return a=(a&42)!==0?1:Ha(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:dy(t.type))}function Un(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Ln=Math.random().toString(36).slice(2),ye="__reactFiber$"+Ln,Oe="__reactProps$"+Ln,$n="__reactContainer$"+Ln,Ir="__reactEvents$"+Ln,Lc="__reactListeners$"+Ln,Tu="__reactHandles$"+Ln,Au="__reactResources$"+Ln,Wn="__reactMarker$"+Ln;function Nr(t){delete t[ye],delete t[Oe],delete t[Ir],delete t[Lc],delete t[Tu]}function ti(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Jp(t);t!==null;){if(a=t[ye])return a;t=Jp(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ye]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[Au];return n||(n=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[Wn]=!0}var Qs=new Set,Fs={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Fs[t]=n,t=0;t<n.length;t++)Qs.add(n[t])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xs={},Ks={};function Su(t){return ge.call(Ks,t)?!0:ge.call(Xs,t)?!1:Ys.test(t)?Ks[t]=!0:(Xs[t]=!0,!1)}function Or(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function kt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Zs(t,n,""+t[n])}}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qa=/[\n"\\]/g;function We(t){return t.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Js(t,g,Me(n)):a!=null?Js(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function bu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){kt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),kt(t)}function Js(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ru(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Ki(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),kt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Cu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ws(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$s(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$s(t,f,n[f])}function xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return Zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var tl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ri=null;function Fa(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Mr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Mr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ga(l)}break t;case"textarea":Ru(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var Ur=!1;function $i(t,n,a){if(Ur)return t(n,a);Ur=!0;try{var l=t(n);return l}finally{if(Ur=!1,(Ji!==null||ri!==null)&&(To(),Ji&&(n=Ji,t=ri,ri=Ji=null,Fa(n),t)))for(n=0;n<t.length;n++)Fa(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(An)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Ya=!1}var si=null,el=null,Xa=null;function nl(){if(Xa)return Xa;var t,n=el,a=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Xa=c.slice(t,1<l?1-l:void 0)}function Ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function jn(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Le(Ri),Wi=b({},Ri,{view:0,detail:0}),il=Le(Wi),ta,Lr,ui,Br=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(ta=t.screenX-ui.screenX,Lr=t.screenY-ui.screenY):Lr=ta=0,ui=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:Lr}}),al=Le(Br),Za=b({},Br,{dataTransfer:0}),Du=Le(Za),Vu=b({},Wi,{relatedTarget:0}),Ja=Le(Vu),rl=b({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Le(rl),qr=b({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=Le(qr),Ou=b({},Ri,{data:0}),oi=Le(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zu[t])?!!n[t]:!1}function ea(){return Uu}var Ze=b({},Wi,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Le(Ze),Bu=b({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Le(Bu),o=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),m=Le(o),p=b({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=b({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Le(U),$=b({},Ri,{newState:0,oldState:0}),Et=Le($),ce=[9,13,27,32],Bt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var Sn=An&&"TextEvent"in window&&!ae,ci=An&&(!Bt||ae&&8<ae&&11>=ae),Pn=" ",kn=!1;function $a(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function N0(t,n){switch(t){case"compositionend":return jr(n);case"keypress":return n.which!==32?null:(kn=!0,Pn);case"textInput":return t=n.data,t===Pn&&kn?null:t;default:return null}}function O0(t,n){if(Pr)return t==="compositionend"||!Bt&&$a(t,n)?(t=nl(),Xa=el=si=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!M0[t.type]:n==="textarea"}function em(t,n,a,l){Ji?ri?ri.push(l):ri=[l]:Ji=l,n=Do(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var sl=null,ll=null;function x0(t){Lp(t,0)}function qu(t){var n=on(t);if(Ga(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(An){var Bc;if(An){var qc="oninput"in document;if(!qc){var am=document.createElement("div");am.setAttribute("oninput","return;"),qc=typeof am.oninput=="function"}Bc=qc}else Bc=!1;im=Bc&&(!document.documentMode||9<document.documentMode)}function rm(){sl&&(sl.detachEvent("onpropertychange",sm),ll=sl=null)}function sm(t){if(t.propertyName==="value"&&qu(ll)){var n=[];em(n,ll,t,Tn(t)),$i(x0,n)}}function z0(t,n,a){t==="focusin"?(rm(),sl=n,ll=a,sl.attachEvent("onpropertychange",sm)):t==="focusout"&&rm()}function U0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(ll)}function L0(t,n){if(t==="click")return qu(n)}function B0(t,n){if(t==="input"||t==="change")return qu(n)}function q0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:q0;function ul(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,n){var a=lm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lm(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var j0=An&&"documentMode"in document&&11>=document.documentMode,kr=null,Pc=null,ol=null,kc=!1;function hm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||kr==null||kr!==ai(l)||(l=kr,"selectionStart"in l&&jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ul(ol,l)||(ol=l,l=Do(Pc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=kr)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Hr={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Hc={},fm={};An&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function tr(t){if(Hc[t])return Hc[t];if(!Hr[t])return t;var n=Hr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in fm)return Hc[t]=n[a];return t}var dm=tr("animationend"),mm=tr("animationiteration"),gm=tr("animationstart"),P0=tr("transitionrun"),k0=tr("transitionstart"),H0=tr("transitioncancel"),pm=tr("transitionend"),ym=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Hn(t,n){ym.set(t,n),ni(n,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Gr=0,Qc=0;function Pu(){for(var t=Gr,n=Qc=Gr=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function ku(t,n,a,l){bn[Gr++]=t,bn[Gr++]=n,bn[Gr++]=a,bn[Gr++]=l,Qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,a,l){return ku(t,n,a,l),Hu(t)}function er(t,n){return ku(t,null,null,n),Hu(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-oe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<Nl)throw Nl=0,ef=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qr={};function G0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new G0(t,n,a,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=KE(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=fn(31,a,n,c),t.elementType=w,t.lanes=f,t;case W:return nr(a.children,c,f,n);case J:g=8,c|=24;break;case ut:return t=fn(12,a,n,c|2),t.elementType=ut,t.lanes=f,t;case $t:return t=fn(13,a,n,c),t.elementType=$t,t.lanes=f,t;case xt:return t=fn(19,a,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case gt:g=9;break t;case Qt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function nr(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Xc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Em(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=Tm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:js(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:js(n)}}var Fr=[],Yr=0,Qu=null,cl=0,Cn=[],wn=0,na=null,hi=1,fi="";function Di(t,n){Fr[Yr++]=cl,Fr[Yr++]=Qu,Qu=t,cl=n}function Am(t,n,a){Cn[wn++]=hi,Cn[wn++]=fi,Cn[wn++]=na,na=t;var l=hi;t=fi;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-oe(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Zc(t){t.return!==null&&(Di(t,1),Am(t,1,0))}function Jc(t){for(;t===Qu;)Qu=Fr[--Yr],Fr[Yr]=null,cl=Fr[--Yr],Fr[Yr]=null;for(;t===na;)na=Cn[--wn],Cn[wn]=null,fi=Cn[--wn],Cn[wn]=null,hi=Cn[--wn],Cn[wn]=null}function Sm(t,n){Cn[wn++]=hi,Cn[wn++]=fi,Cn[wn++]=na,hi=n.id,fi=n.overflow,na=t}var Be=null,Wt=null,It=!1,ia=null,Dn=!1,$c=Error(r(519));function aa(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Rn(n,t)),$c}function bm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Rt(Ml[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),bu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Ki(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Pp(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||aa(t,!0)}function Rm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function Xr(t){if(t!==Be)return!1;if(!It)return Rm(t),It=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&Wt&&aa(t),Rm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Zp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Zp(t)}else n===27?(n=Wt,_a(t.type)?(t=Af,Af=null,Wt=t):Wt=n):Wt=Be?In(t.stateNode.nextSibling):null;return!0}function ir(){Wt=Be=null,It=!1}function Wc(){var t=ia;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ia=null),t}function hl(t){ia===null?ia=[t]:ia.push(t)}var th=N(null),ar=null,Vi=null;function ra(t,n,a){et(th,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=th.current,Y(th)}function eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),eh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),eh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Kr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&nh(n,t,a,l),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ar=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Cm(ar,t)}function Yu(t,n){return ar===null&&rr(t),Cm(t,n)}function Cm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(r(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var Q0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},F0=s.unstable_scheduleCallback,Y0=s.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new Q0,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&F0(Y0,function(){t.controller.abort()})}var dl=null,ah=0,Zr=0,Jr=null;function X0(t,n){if(dl===null){var a=dl=[];ah=0,Zr=uf(),Jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(wm,wm),n}function wm(){if(--ah===0&&dl!==null){Jr!==null&&(Jr.status="fulfilled");var t=dl;dl=null,Zr=0,Jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Dm=G.S;G.S=function(t,n){hp=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&X0(t,n),Dm!==null&&Dm(t,n)};var sr=N(null);function rh(){var t=sr.current;return t!==null?t:Zt.pooledCache}function Xu(t,n){n===null?et(sr,sr.current):et(sr,n.pool)}function Vm(){var t=rh();return t===null?null:{parent:Ee._currentValue,pool:t}}var $r=Error(r(460)),sh=Error(r(474)),Ku=Error(r(542)),Zu={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t}throw ur=n,$r}}function lr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ur=a,$r):a}}var ur=null;function Om(){if(ur===null)throw Error(r(459));var t=ur;return ur=null,t}function Mm(t){if(t===$r||t===Ku)throw Error(r(483))}var Wr=null,ml=0;function Ju(t){var n=ml;return ml+=1,Wr===null&&(Wr=[]),Nm(Wr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function xm(t){function n(M,V){if(t){var L=M.deletions;L===null?(M.deletions=[V],M.flags|=16):L.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=wi(M,V),M.index=0,M.sibling=null,M}function f(M,V,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<V?(M.flags|=67108866,V):L):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,L,Q){return V===null||V.tag!==6?(V=Xc(L,M.mode,Q),V.return=M,V):(V=c(V,L),V.return=M,V)}function C(M,V,L,Q){var ot=L.type;return ot===W?H(M,V,L.props.children,Q,L.key):V!==null&&(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&lr(ot)===V.type)?(V=c(V,L.props),gl(V,L),V.return=M,V):(V=Gu(L.type,L.key,L.props,null,M.mode,Q),gl(V,L),V.return=M,V)}function B(M,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Kc(L,M.mode,Q),V.return=M,V):(V=c(V,L.children||[]),V.return=M,V)}function H(M,V,L,Q,ot){return V===null||V.tag!==7?(V=nr(L,M.mode,Q,ot),V.return=M,V):(V=c(V,L),V.return=M,V)}function F(M,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Xc(""+V,M.mode,L),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return L=Gu(V.type,V.key,V.props,null,M.mode,L),gl(L,V),L.return=M,L;case Z:return V=Kc(V,M.mode,L),V.return=M,V;case S:return V=lr(V),F(M,V,L)}if(we(V)||z(V))return V=nr(V,M.mode,L,null),V.return=M,V;if(typeof V.then=="function")return F(M,Ju(V),L);if(V.$$typeof===dt)return F(M,Yu(M,V),L);$u(M,V)}return null}function q(M,V,L,Q){var ot=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(M,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return L.key===ot?C(M,V,L,Q):null;case Z:return L.key===ot?B(M,V,L,Q):null;case S:return L=lr(L),q(M,V,L,Q)}if(we(L)||z(L))return ot!==null?null:H(M,V,L,Q,null);if(typeof L.then=="function")return q(M,V,Ju(L),Q);if(L.$$typeof===dt)return q(M,V,Yu(M,L),Q);$u(M,L)}return null}function k(M,V,L,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(V,M,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return M=M.get(Q.key===null?L:Q.key)||null,C(V,M,Q,ot);case Z:return M=M.get(Q.key===null?L:Q.key)||null,B(V,M,Q,ot);case S:return Q=lr(Q),k(M,V,L,Q,ot)}if(we(Q)||z(Q))return M=M.get(L)||null,H(V,M,Q,ot,null);if(typeof Q.then=="function")return k(M,V,L,Ju(Q),ot);if(Q.$$typeof===dt)return k(M,V,L,Yu(V,Q),ot);$u(V,Q)}return null}function rt(M,V,L,Q){for(var ot=null,Ut=null,lt=V,St=V=0,wt=null;lt!==null&&St<L.length;St++){lt.index>St?(wt=lt,lt=null):wt=lt.sibling;var Lt=q(M,lt,L[St],Q);if(Lt===null){lt===null&&(lt=wt);break}t&&lt&&Lt.alternate===null&&n(M,lt),V=f(Lt,V,St),Ut===null?ot=Lt:Ut.sibling=Lt,Ut=Lt,lt=wt}if(St===L.length)return a(M,lt),It&&Di(M,St),ot;if(lt===null){for(;St<L.length;St++)lt=F(M,L[St],Q),lt!==null&&(V=f(lt,V,St),Ut===null?ot=lt:Ut.sibling=lt,Ut=lt);return It&&Di(M,St),ot}for(lt=l(lt);St<L.length;St++)wt=k(lt,M,St,L[St],Q),wt!==null&&(t&&wt.alternate!==null&&lt.delete(wt.key===null?St:wt.key),V=f(wt,V,St),Ut===null?ot=wt:Ut.sibling=wt,Ut=wt);return t&&lt.forEach(function(Sa){return n(M,Sa)}),It&&Di(M,St),ot}function ft(M,V,L,Q){if(L==null)throw Error(r(151));for(var ot=null,Ut=null,lt=V,St=V=0,wt=null,Lt=L.next();lt!==null&&!Lt.done;St++,Lt=L.next()){lt.index>St?(wt=lt,lt=null):wt=lt.sibling;var Sa=q(M,lt,Lt.value,Q);if(Sa===null){lt===null&&(lt=wt);break}t&&lt&&Sa.alternate===null&&n(M,lt),V=f(Sa,V,St),Ut===null?ot=Sa:Ut.sibling=Sa,Ut=Sa,lt=wt}if(Lt.done)return a(M,lt),It&&Di(M,St),ot;if(lt===null){for(;!Lt.done;St++,Lt=L.next())Lt=F(M,Lt.value,Q),Lt!==null&&(V=f(Lt,V,St),Ut===null?ot=Lt:Ut.sibling=Lt,Ut=Lt);return It&&Di(M,St),ot}for(lt=l(lt);!Lt.done;St++,Lt=L.next())Lt=k(lt,M,St,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?St:Lt.key),V=f(Lt,V,St),Ut===null?ot=Lt:Ut.sibling=Lt,Ut=Lt);return t&&lt.forEach(function(sT){return n(M,sT)}),It&&Di(M,St),ot}function Kt(M,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case j:t:{for(var ot=L.key;V!==null;){if(V.key===ot){if(ot=L.type,ot===W){if(V.tag===7){a(M,V.sibling),Q=c(V,L.props.children),Q.return=M,M=Q;break t}}else if(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&lr(ot)===V.type){a(M,V.sibling),Q=c(V,L.props),gl(Q,L),Q.return=M,M=Q;break t}a(M,V);break}else n(M,V);V=V.sibling}L.type===W?(Q=nr(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Gu(L.type,L.key,L.props,null,M.mode,Q),gl(Q,L),Q.return=M,M=Q)}return g(M);case Z:t:{for(ot=L.key;V!==null;){if(V.key===ot)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(M,V.sibling),Q=c(V,L.children||[]),Q.return=M,M=Q;break t}else{a(M,V);break}else n(M,V);V=V.sibling}Q=Kc(L,M.mode,Q),Q.return=M,M=Q}return g(M);case S:return L=lr(L),Kt(M,V,L,Q)}if(we(L))return rt(M,V,L,Q);if(z(L)){if(ot=z(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),ft(M,V,L,Q)}if(typeof L.then=="function")return Kt(M,V,Ju(L),Q);if(L.$$typeof===dt)return Kt(M,V,Yu(M,L),Q);$u(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(M,V.sibling),Q=c(V,L),Q.return=M,M=Q):(a(M,V),Q=Xc(L,M.mode,Q),Q.return=M,M=Q),g(M)):a(M,V)}return function(M,V,L,Q){try{ml=0;var ot=Kt(M,V,L,Q);return Wr=null,ot}catch(lt){if(lt===$r||lt===Ku)throw lt;var Ut=fn(29,lt,null,M.mode);return Ut.lanes=Q,Ut.return=M,Ut}finally{}}}var or=xm(!0),zm=xm(!1),sa=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Hu(t),_m(t,null,a),n}return ku(t,l,n,a),Hu(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}function oh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function yl(){if(ch){var t=Jr;if(t!==null)throw t}}function _l(t,n,a,l){ch=!1;var c=t.updateQueue;sa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?f=B:g.next=B,g=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=C))}if(f!==null){var F=c.baseState;g=0,H=B=C=null,E=f;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(Ct&q)===q:(l&q)===q){q!==0&&q===Zr&&(ch=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ft=E;q=n;var Kt=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){F=rt.call(Kt,F,q);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,q=typeof rt=="function"?rt.call(Kt,F,q):rt,q==null)break t;F=b({},F,q);break t;case 2:sa=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=k,C=F):H=H.next=k,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(C=F),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),da|=g,t.lanes=g,t.memoizedState=F}}function Um(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Lm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Um(a[t],n)}var ts=N(null),Wu=N(0);function Bm(t,n){t=qi,et(Wu,t),et(ts,n),qi=t|n.baseLanes}function hh(){et(Wu,qi),et(ts,ts.current)}function fh(){qi=Wu.current,Y(ts),Y(Wu)}var dn=N(null),Vn=null;function oa(t){var n=t.alternate;et(he,he.current&1),et(dn,t),Vn===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(Vn=t)}function dh(t){et(he,he.current),et(dn,t),Vn===null&&(Vn=t)}function qm(t){t.tag===22?(et(he,he.current),et(dn,t),Vn===null&&(Vn=t)):ca()}function ca(){et(he,he.current),et(dn,dn.current)}function mn(t){Y(dn),Vn===t&&(Vn=null),Y(he)}var he=N(0);function to(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,Tt=null,Yt=null,Te=null,eo=!1,es=!1,cr=!1,no=0,vl=0,ns=null,Z0=0;function le(){throw Error(r(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Ni=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ag:Ih,cr=!1,f=a(l,c),cr=!1,es&&(f=Pm(n,a,l,c)),jm(t),f}function jm(t){G.H=Al;var n=Yt!==null&&Yt.next!==null;if(Ni=0,Te=Yt=Tt=null,eo=!1,vl=0,ns=null,n)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&Fu(t)&&(Ae=!0))}function Pm(t,n,a,l){Tt=t;var c=0;do{if(es&&(ns=null),vl=0,es=!1,25<=c)throw Error(r(301));if(c+=1,Te=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Sg,f=n(a,l)}while(es);return f}function J0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function ph(){var t=no!==0;return no=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if(eo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}eo=!1}Ni=0,Te=Yt=Tt=null,es=!1,vl=no=0,ns=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=t:Te=Te.next=t,Te}function fe(){if(Yt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Yt=t;else{if(t===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Tt.memoizedState=Te=t:Te=Te.next=t}return Te}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,ns===null&&(ns=[]),t=Nm(ns,t,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ag:Ih),t}function ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===dt)return qe(t)}throw Error(r(438,String(t)))}function vh(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=io(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function ro(t){var n=fe();return Eh(n,Yt,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,C=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Ct&F)===F:(Ni&F)===F){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Zr&&(H=!0);else if((Ni&q)===q){B=B.next,q===Zr&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=F,g=f):C=C.next=F,Tt.lanes|=q,da|=q;F=B.action,cr&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else q={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,g=f):C=C.next=q,Tt.lanes|=F,da|=F;B=B.next}while(B!==null&&B!==n);if(C===null?g=f:C.next=E,!hn(f,t.memoizedState)&&(Ae=!0,H&&(a=Jr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function km(t,n,a){var l=Tt,c=fe(),f=It;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Yt||c).memoizedState,a);if(g&&(c.memoizedState=a,Ae=!0),c=c.queue,bh(Qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,is(9,{destroy:void 0},Gm.bind(null,l,c,a,n),null),Zt===null)throw Error(r(349));f||(Ni&127)!==0||Hm(l,n,a)}return a}function Hm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=io(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Gm(t,n,a,l){n.value=a,n.getSnapshot=l,Fm(n)&&Ym(t)}function Qm(t,n,a){return a(function(){Fm(n)&&Ym(t)})}function Fm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Ym(t){var n=er(t,2);n!==null&&sn(n,t,2)}function Ah(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),cr){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Xm(t,n,a,l){return t.baseState=a,Eh(t,Yt,typeof l=="function"?l:Oi)}function $0(t,n,a,l,c){if(uo(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Km(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Km(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),C=G.S;C!==null&&C(g,E),Zm(t,n,E)}catch(B){Sh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),Zm(t,n,f)}catch(B){Sh(t,n,B)}}function Zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jm(t,n,l)},function(l){return Sh(t,n,l)}):Jm(t,n,a)}function Jm(t,n,a){n.status="fulfilled",n.value=a,$m(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Km(t,a)))}function Sh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,$m(n),n=n.next;while(n!==l)}t.action=null}function $m(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(It){var a=Zt.formState;if(a!==null){t:{var l=Tt;if(It){if(Wt){e:{for(var c=Wt,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=In(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},a.queue=l,a=vg.bind(null,Tt,l),l.dispatch=a,l=Ah(!1),f=Vh.bind(null,Tt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=$0.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function eg(t){var n=fe();return ng(n,Yt,t)}function ng(t,n,a){if(n=Eh(t,n,Wm)[0],t=ro(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(g){throw g===$r?Ku:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,is(9,{destroy:void 0},W0.bind(null,c,a),null)),[l,f,t]}function W0(t,n){t.action=n}function ig(t){var n=fe(),a=Yt;if(a!==null)return ng(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function is(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=io(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ag(){return fe().memoizedState}function so(t,n,a,l){var c=Je();Tt.flags|=t,c.memoizedState=is(1|n,{destroy:void 0},a,l===void 0?null:l)}function lo(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&mh(l,Yt.memoizedState.deps)?c.memoizedState=is(n,f,a,l):(Tt.flags|=t,c.memoizedState=is(1|n,f,a,l))}function rg(t,n){so(8390656,8,t,n)}function bh(t,n){lo(2048,8,t,n)}function tE(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=io(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function sg(t){var n=fe().memoizedState;return tE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function lg(t,n){return lo(4,2,t,n)}function ug(t,n){return lo(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,a){a=a!=null?a.concat([t]):null,lo(4,4,og.bind(null,n,t),a)}function Rh(){}function hg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function fg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),cr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Ch(t,n,a){return a===void 0||(Ni&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=dp(),Tt.lanes|=t,da|=t,a)}function dg(t,n,a,l){return hn(a,n)?a:ts.current!==null?(t=Ch(t,a,l),hn(t,n)||(Ae=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(Ct&261930)===0?(Ae=!0,t.memoizedState=a):(t=dp(),Tt.lanes|=t,da|=t,n)}function mg(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Vh(t,!1,n,a);try{var C=c(),B=G.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=K0(C,l);Tl(t,n,H,yn(t))}else Tl(t,n,l,yn(t))}catch(F){Tl(t,n,{then:function(){},status:"rejected",reason:F},yn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function eE(){}function wh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,n,ht,a===null?eE:function(){return pg(t),a(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},yn())}function Dh(){return qe(Bl)}function yg(){return fe().memoizedState}function _g(){return fe().memoizedState}function nE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=la(a);var l=ua(n,t,a);l!==null&&(sn(l,n,a),pl(l,n,a)),n={cache:ih()},t.payload=n;return}n=n.return}}function iE(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uo(t)?Eg(n,a):(a=Fc(t,n,a,l),a!==null&&(sn(a,t,l),Tg(a,n,l)))}function vg(t,n,a){var l=yn();Tl(t,n,a,l)}function Tl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uo(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return ku(t,n,c,0),Zt===null&&Pu(),!1}catch{}finally{}if(a=Fc(t,n,c,l),a!==null)return sn(a,t,l),Tg(a,n,l),!0}return!1}function Vh(t,n,a,l){if(l={lane:2,revertLane:uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uo(t)){if(n)throw Error(r(479))}else n=Fc(t,a,l,2),n!==null&&sn(n,t,2)}function uo(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Eg(t,n){es=eo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Tg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}var Al={readContext:qe,use:ao,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Al.useEffectEvent=le;var Ag={readContext:qe,use:ao,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:rg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,so(4194308,4,og.bind(null,n,t),a)},useLayoutEffect:function(t,n){return so(4194308,4,t,n)},useInsertionEffect:function(t,n){so(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(cr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(cr){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=iE.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,a=vg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=Je();return Ch(a,t,n)},useTransition:function(){var t=Ah(!1);return t=mg.bind(null,Tt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=Je();if(It){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Zt===null)throw Error(r(349));(Ct&127)!==0||Hm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,rg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,is(9,{destroy:void 0},Gm.bind(null,l,f,a,n),null),a},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(It){var a=fi,l=hi;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=no++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Z0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return Je().memoizedState=nE.bind(null,Tt)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ih={readContext:qe,use:ao,useCallback:hg,useContext:qe,useEffect:bh,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:fg,useReducer:ro,useRef:ag,useState:function(){return ro(Oi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=fe();return dg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=ro(Oi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:km,useId:yg,useHostTransitionStatus:Dh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=fe();return Xm(a,Yt,t,n)},useMemoCache:vh,useCacheRefresh:_g};Ih.useEffectEvent=sg;var Sg={readContext:qe,use:ao,useCallback:hg,useContext:qe,useEffect:bh,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:fg,useReducer:Th,useRef:ag,useState:function(){return Th(Oi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=fe();return Yt===null?Ch(a,t,n):dg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Th(Oi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:km,useId:yg,useHostTransitionStatus:Dh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=fe();return Yt!==null?Xm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:_g};Sg.useEffectEvent=sg;function Nh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Oh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(sn(n,t,a),pl(n,t,a))}};function bg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ul(a,l)||!ul(c,f):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function hr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Cg(t){ju(t)}function wg(t){console.error(t)}function Dg(t){ju(t)}function oo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mh(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){oo(t,n)},a}function Ig(t){return t=la(t),t.tag=3,t}function Ng(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Vg(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function aE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Kr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Ao():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rf(t,l,c)),!1;case 22:return a.flags|=65536,l===Zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rf(t,l,c)),!1}throw Error(r(435,a.tag))}return rf(t,l,c),Ao(),!1}if(It)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(r(422),{cause:l}),hl(Rn(t,a)))):(l!==$c&&(n=Error(r(423),{cause:l}),hl(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=Mh(t.stateNode,l,c),oh(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=Rn(f,a),Il===null?Il=[f]:Il.push(f),ue!==4&&(ue=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Mh(a.stateNode,l,t),oh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ig(c),Ng(c,t,a,l),oh(a,c),!1}a=a.return}while(a!==null);return!1}var xh=Error(r(461)),Ae=!1;function je(t,n,a,l){n.child=t===null?zm(n,null,a,l):or(n,t.child,a,l)}function Og(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rr(n),l=gh(t,n,a,g,f,c),E=ph(),t!==null&&!Ae?(yh(t,n,c),Mi(t,n,c)):(It&&E&&Zc(n),n.flags|=1,je(t,n,l,c),n.child)}function Mg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,xg(t,n,f,l,c)):(t=Gu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return zh(t,n,a,l,c)}function zg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ug(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):hh(),qm(n);else return l=n.lanes=536870912,Ug(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xu(n,f.cachePool),Bm(n,f),ca(),n.memoizedState=null):(t!==null&&Xu(n,null),hh(),ca());return je(t,n,c,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ug(t,n,a,l,c){var f=rh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xu(n,null),hh(),qm(n),t!==null&&Kr(t,n,l,!0),n.childLanes=c,null}function co(t,n){return n=fo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Lg(t,n,a){return or(n,t.child,null,a),t=co(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function rE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(It){if(l.mode==="hidden")return t=co(n,l),n.lanes=536870912,Sl(null,t);if(dh(n),(t=Wt)?(t=Kp(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Em(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw aa(n);return n.lanes=536870912,null}return co(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(dh(n),c)if(n.flags&256)n.flags&=-257,n=Lg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||Kr(t,n,a,!1),c=(a&t.childLanes)!==0,Ae||c){if(l=Zt,l!==null&&(g=Gs(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,er(t,g),sn(l,t,g),xh;Ao(),n=Lg(t,n,a)}else t=f.treeContext,Wt=In(g.nextSibling),Be=n,It=!0,ia=null,Dn=!1,t!==null&&Sm(n,t),n=co(n,l),n.flags|=4096;return n}return t=wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ho(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zh(t,n,a,l,c){return rr(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Ae?(yh(t,n,c),Mi(t,n,c)):(It&&l&&Zc(n),n.flags|=1,je(t,n,a,c),n.child)}function Bg(t,n,a,l,c,f){return rr(n),n.updateQueue=null,a=Pm(n,l,a,c),jm(t),l=ph(),t!==null&&!Ae?(yh(t,n,f),Mi(t,n,f)):(It&&l&&Zc(n),n.flags|=1,je(t,n,a,f),n.child)}function qg(t,n,a,l,c){if(rr(n),n.stateNode===null){var f=Qr,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Qr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Oh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=hr(a,E);f.props=C;var B=f.context,H=a.contextType;g=Qr,typeof H=="object"&&H!==null&&(g=qe(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Rg(n,f,l,g),sa=!1;var q=n.memoizedState;f.state=q,_l(n,l,f,c),yl(),B=n.memoizedState,E||q!==B||sa?(typeof F=="function"&&(Nh(n,a,F,l),B=n.memoizedState),(C=sa||bg(n,a,C,l,q,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),g=n.memoizedProps,H=hr(a,g),f.props=H,F=n.pendingProps,q=f.context,B=a.contextType,C=Qr,typeof B=="object"&&B!==null&&(C=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||q!==C)&&Rg(n,f,l,C),sa=!1,q=n.memoizedState,f.state=q,_l(n,l,f,c),yl();var k=n.memoizedState;g!==F||q!==k||sa||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Nh(n,a,E,l),k=n.memoizedState),(H=sa||bg(n,a,H,l,q,k,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=C,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ho(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,c),n.child=or(n,null,a,c)):je(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function jg(t,n,a,l){return ir(),n.flags|=256,je(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Vm()}}function Bh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Pg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(c?oa(n):ca(),(t=Wt)?(t=Kp(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Em(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw aa(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ca(),c=n.mode,E=fo({mode:"hidden",children:E},c),l=nr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=Bh(t,g,a),n.memoizedState=Uh,Sl(null,l)):(oa(n),qh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=jh(t,n,a)):n.memoizedState!==null?(ca(),n.child=t.child,n.flags|=128,n=null):(ca(),E=l.fallback,c=n.mode,l=fo({mode:"visible",children:l.children},c),E=nr(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,or(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=Bh(t,g,a),n.memoizedState=Uh,n=Sl(null,l));else if(oa(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,hl({value:l,source:null,stack:null}),n=jh(t,n,a)}else if(Ae||Kr(t,n,a,!1),g=(a&t.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(l=Gs(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,er(t,l),sn(g,t,l),xh;Ef(E)||Ao(),n=jh(t,n,a)}else Ef(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Wt=In(E.nextSibling),Be=n,It=!0,ia=null,Dn=!1,t!==null&&Sm(n,t),n=qh(n,l.children),n.flags|=4096);return n}return c?(ca(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=wi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=wi(B,E):(E=nr(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Sl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(C=Ee._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Vm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Bh(t,g,a),n.memoizedState=Uh,Sl(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function qh(t,n){return n=fo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fo(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function jh(t,n,a){return or(n,t.child,null,a),t=qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function kg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,a)}function Ph(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(he,g),je(t,n,l,a),l=It?cl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,a,n);else if(t.tag===19)kg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&to(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ph(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&to(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ph(n,!0,a,null,f,l);break;case"together":Ph(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Kr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function sE(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ra(n,Ee,t.memoizedState.cache),ir();break;case 27:case 5:La(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Pg(t,n,a):(oa(n),t=Mi(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Kr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(he,he.current),l)break;return null;case 22:return n.lanes=0,zg(t,n,a,n.pendingProps);case 24:ra(n,Ee,t.memoizedState.cache)}return Mi(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Ae=!1,sE(t,n,a);Ae=(t.flags&131072)!==0}else Ae=!1,It&&(n.flags&1048576)!==0&&Am(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=lr(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=hr(t,l),n.tag=1,n=qg(null,n,t,l,a)):(n.tag=0,n=zh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Qt){n.tag=11,n=Og(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Mg(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(r(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=hr(l,n.pendingProps),qg(t,n,l,c,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),_l(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ra(n,Ee,l),l!==f.cache&&nh(n,[Ee],a,!0),yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(r(424)),n),hl(c),n=jg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=In(t.firstChild),Be=n,It=!0,ia=null,Dn=!0,a=zm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ir(),l===c){n=Mi(t,n,a);break t}je(t,n,l,a)}n=n.child}return n;case 26:return ho(t,n),t===null?(a=ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Vo(At.current).createElement(a),l[ye]=n,l[Oe]=t,Pe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&It&&(l=n.stateNode=$p(n.type,n.pendingProps,At.current),Be=n,Dn=!0,c=Wt,_a(n.type)?(Af=c,Wt=In(l.firstChild)):Wt=c),je(t,n,n.pendingProps.children,a),ho(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((c=l=Wt)&&(l=UE(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Be=n,Wt=In(l.firstChild),Dn=!1,c=!0):c=!1),c||aa(n)),La(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:g!==null&&yf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,J0,null,null,a),Bl._currentValue=c),ho(t,n),je(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=Wt)&&(a=LE(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Be=n,Wt=null,t=!0):t=!1),t||aa(n)),null;case 13:return Pg(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,a):je(t,n,l,a),n.child;case 11:return Og(t,n,n.type,n.pendingProps,a);case 7:return je(t,n,n.pendingProps,a),n.child;case 8:return je(t,n,n.pendingProps.children,a),n.child;case 12:return je(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),je(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rr(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,a),n.child;case 14:return Mg(t,n,n.type,n.pendingProps,a);case 15:return xg(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return rE(t,n,a);case 22:return zg(t,n,a,n.pendingProps);case 24:return rr(n),l=qe(Ee),t===null?(c=rh(),c===null&&(c=Zt,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),ra(n,Ee,c)):((t.lanes&a)!==0&&(uh(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,Ee,l)):(l=f.cache,ra(n,Ee,l),l!==c.cache&&nh(n,[Ee],a,!0))),je(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(t){t.flags|=4}function Hh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(yp())t.flags|=8192;else throw ur=Zu,sh}else t.flags&=-16777217}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n))if(yp())t.flags|=8192;else throw ur=Zu,sh}function mo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vu():536870912,t.lanes|=n,ls|=n)}function bl(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function lE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Ee),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xr(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(te(n),Qg(n,f)):(te(n),Hh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),te(n),Qg(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),te(n),Hh(n,c,t,l,a)),null;case 27:if(Cr(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=at.current,Xr(n)?bm(n):(t=$p(c,l,a),n.stateNode=t,xi(n))}return te(n),null;case 5:if(Cr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=at.current,Xr(n))bm(n);else{var g=Vo(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return te(n),Hh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=At.current,Xr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,a)),t||aa(n,!0)}else t=Vo(t).createTextNode(l),t[ye]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Xr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),mo(n,n.updateQueue),te(n),null);case 4:return ie(),t===null&&ff(n.stateNode.containerInfo),te(n),null;case 10:return Ii(n.type),te(n),null;case 19:if(Y(he),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)bl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=to(t),f!==null){for(n.flags|=128,bl(l,!1),t=f.updateQueue,n.updateQueue=t,mo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return et(he,he.current&1|2),It&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>vo&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304)}else{if(!c)if(t=to(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mo(n,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!It)return te(n),null}else 2*Ke()-l.renderingStartTime>vo&&a!==536870912&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,a=he.current,et(he,c?a&1|2:a&1),It&&Di(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return mn(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&mo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(sr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function uE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Ee),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(he),null;case 4:return ie(),null;case 10:return Ii(n.type),null;case 22:case 23:return mn(n),fh(),t!==null&&Y(sr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Ee),null;case 25:return null;default:return null}}function Fg(t,n){switch(Jc(n),n.tag){case 3:Ii(Ee),ie();break;case 26:case 27:case 5:Cr(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(he);break;case 10:Ii(n.type);break;case 22:case 23:mn(n),fh(),t!==null&&Y(sr);break;case 24:Ii(Ee)}}function Rl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Gt(n,n.return,E)}}function ha(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,B=E;try{B()}catch(H){Gt(c,C,H)}}}l=l.next}while(l!==f)}}catch(H){Gt(n,n.return,H)}}function Yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Lm(n,a)}catch(l){Gt(t,t.return,l)}}}function Xg(t,n,a){a.props=hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Gt(t,n,l)}}function Cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Gt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Gt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Gt(t,n,c)}else a.current=null}function Kg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Gt(t,t.return,c)}}function Gh(t,n,a){try{var l=t.stateNode;IE(l,t.type,a,n),l[Oe]=n}catch(c){Gt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,a),t=t.sibling;t!==null;)Fh(t,n,a),t=t.sibling}function go(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(go(t,n,a),t=t.sibling;t!==null;)go(t,n,a),t=t.sibling}function Jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ye]=t,n[Oe]=a}catch(f){Gt(t,t.return,f)}}var zi=!1,Se=!1,Yh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,xe=null;function oE(t,n){if(t=t.containerInfo,gf=Uo,t=cm(t),jc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,B=0,H=0,F=t,q=null;e:for(;;){for(var k;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(C=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(k=F.firstChild)!==null;)q=F,F=k;for(;;){if(F===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++H===l&&(C=g),(k=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=k}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Uo=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=hr(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Gt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&Rl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var c=hr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}l&64&&Yg(a),l&512&&Cl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Lm(t,n)}catch(g){Gt(a,a.return,g)}}break;case 27:n===null&&l&4&&Jg(a);case 26:case 5:Li(t,a),n===null&&l&4&&Kg(a),l&512&&Cl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&np(t,a);break;case 13:Li(t,a),l&4&&ip(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_E.bind(null,a),BE(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=l,(Se=n)&&!f?Bi(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),zi=c,Se=f}break;case 30:break;default:Li(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Ui(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Se||di(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||di(a,n);var l=re,c=en;_a(a.type)&&(re=a.stateNode,en=!1),Ui(t,n,a),zl(a.stateNode),re=l,en=c;break;case 5:Se||di(a,n);case 6:if(l=re,c=en,re=null,Ui(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:re!==null&&(en?(t=re,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gs(t)):Yp(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Ui(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:ha(2,a,n),Se||ha(4,a,n),Ui(t,n,a);break;case 1:Se||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xg(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:Se=(l=Se)||a.memoizedState!==null,Ui(t,n,a),Se=l;break;default:Ui(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gs(t)}catch(a){Gt(n,n.return,a)}}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gs(t)}catch(a){Gt(n,n.return,a)}}function cE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(r(435,t.tag))}}function po(t,n){var a=cE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=vE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(_a(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(r(160));ep(f,g,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Gn=null;function ap(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ha(3,t,t.return),Rl(3,t),ha(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Se||a===null||di(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(nn(n,t),an(t),l&512&&(Se||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=ay("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ay("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else ry(c,t.type,t.stateNode);else t.stateNode=iy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ry(c,t.type,t.stateNode):iy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Se||a===null||di(a,a.return)),a!==null&&l&4&&Gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Se||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(rt){Gt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Gt(t,t.return,rt)}}break;case 3:if(Oo=null,c=Gn,Gn=Io(n.containerInfo),nn(n,t),Gn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gs(n.containerInfo)}catch(rt){Gt(t,t.return,rt)}Yh&&(Yh=!1,rp(t));break;case 4:l=Gn,Gn=Io(t.stateNode.containerInfo),nn(n,t),an(t),Gn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,po(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_o=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,po(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=zi,H=Se;if(zi=B||c,Se=H||C,nn(n,t),Se=H,zi=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||zi||Se||fr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var F=C.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Gt(C,C.return,rt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(rt){Gt(C,C.return,rt)}}}else if(n.tag===18){if(a===null){C=n;try{var k=C.stateNode;c?Xp(k,!0):Xp(C.stateNode,!1)}catch(rt){Gt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,po(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,po(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Qh(t);go(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Qh(t);go(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Qh(t);Fh(t,B,C);break;default:throw Error(r(161))}}catch(H){Gt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),fr(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Xg(n,n.return,a),fr(n);break;case 27:zl(n.stateNode);case 26:case 5:di(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,a),Rl(4,f);break;case 1:if(Bi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Gt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Um(C[c],E)}catch(B){Gt(l,l.return,B)}}a&&g&64&&Yg(f),Cl(f,f.return);break;case 27:Jg(f);case 26:case 5:Bi(c,f,a),a&&l===null&&g&4&&Kg(f),Cl(f,f.return);break;case 12:Bi(c,f,a);break;case 31:Bi(c,f,a),a&&g&4&&np(c,f);break;case 13:Bi(c,f,a),a&&g&4&&ip(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,a),Cl(f,f.return);break;case 30:break;default:Bi(c,f,a)}n=n.sibling}}function Xh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,a,l),n=n.sibling}function sp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),c&2048&&Rl(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){Qn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Gt(n,n.return,C)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,a,l):wl(t,n):f._visibility&2?Qn(t,n,a,l):(f._visibility|=2,as(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Xh(g,n);break;case 24:Qn(t,n,a,l),c&2048&&Kh(n.alternate,n);break;default:Qn(t,n,a,l)}}function as(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:as(f,g,E,C,c),Rl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?as(f,g,E,C,c):wl(f,g):(H._visibility|=2,as(f,g,E,C,c)),c&&B&2048&&Xh(g.alternate,g);break;case 24:as(f,g,E,C,c),c&&B&2048&&Kh(g.alternate,g);break;default:as(f,g,E,C,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:wl(a,l),c&2048&&Xh(l.alternate,l);break;case 24:wl(a,l),c&2048&&Kh(l.alternate,l);break;default:wl(a,l)}n=n.sibling}}var Dl=8192;function rs(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)lp(t,n,a),t=t.sibling}function lp(t,n,a){switch(t.tag){case 26:rs(t,n,a),t.flags&Dl&&t.memoizedState!==null&&ZE(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:rs(t,n,a);break;case 3:case 4:var l=Gn;Gn=Io(t.stateNode.containerInfo),rs(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,rs(t,n,a),Dl=l):rs(t,n,a));break;default:rs(t,n,a)}}function up(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,cp(l,t)}up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&ha(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yo(t)):Vl(t);break;default:Vl(t)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,cp(l,t)}up(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ha(8,n,n.return),yo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yo(n));break;default:yo(n)}t=t.sibling}}function cp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(tp(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var hE={getCacheForType:function(t){var n=qe(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ee).controller.signal}},fE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,bt=null,Ct=0,Ht=0,gn=null,fa=!1,ss=!1,Zh=!1,qi=0,ue=0,da=0,dr=0,Jh=0,pn=0,ls=0,Il=null,rn=null,$h=!1,_o=0,hp=0,vo=1/0,Eo=null,ma=null,Ie=0,ga=null,us=null,ji=0,Wh=0,tf=null,fp=null,Nl=0,ef=null;function yn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?uf():Eu()}function dp(){if(pn===0)if((Ct&536870912)===0||It){var t=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function sn(t,n,a){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(os(t,0),pa(t,Ct,pn,!1)),Pa(t,a),((qt&2)===0||t!==Zt)&&(t===Zt&&((qt&2)===0&&(dr|=a),ue===4&&pa(t,Ct,pn,!1)),mi(t))}function mp(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?gE(t,n):af(t,n,!0),f=l;do{if(c===0){ss&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!dE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Il;var C=E.current.memoizedState.isDehydrated;if(C&&(os(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!C){E.errorRecoveryDisabledLanes|=f,dr|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){os(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,pn,!fa);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=_o+300-Ke(),10<c)){if(pa(l,n,pn,!fa),Zn(l,0,!0)!==0)break t;ji=n,l.timeoutHandle=Qp(gp.bind(null,l,a,rn,Eo,$h,n,pn,dr,ls,fa,f,"Throttled",-0,0),c);break t}gp(l,a,rn,Eo,$h,n,pn,dr,ls,fa,f,null,-0,0)}}break}while(!0);mi(t)}function gp(t,n,a,l,c,f,g,E,C,B,H,F,q,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},lp(n,f,F);var rt=(f&62914560)===f?_o-Ke():(f&4194048)===f?hp-Ke():0;if(rt=JE(F,rt),rt!==null){ji=f,t.cancelPendingCommit=rt(Sp.bind(null,t,n,f,a,l,c,g,E,C,H,F,null,q,k)),pa(t,f,g,!B);return}}Sp(t,n,f,a,l,c,g,E,C)}function dE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~Jh,n&=~dr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&ka(t,a,n)}function To(){return(qt&6)===0?(Ol(0),!1):!0}function nf(){if(bt!==null){if(Ht===0)var t=bt.return;else t=bt,Vi=ar=null,_h(t),Wr=null,ml=0,t=bt;for(;t!==null;)Fg(t.alternate,t),t=t.return;bt=null}}function os(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ME(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ji=0,nf(),Zt=t,bt=a=wi(t.current,null),Ct=n,Ht=0,gn=null,fa=!1,ss=zn(t,n),Zh=!1,ls=pn=Jh=dr=da=ue=0,rn=Il=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=t[c],l&=~f}return qi=n,Pu(),a}function pp(t,n){Tt=null,G.H=Al,n===$r||n===Ku?(n=Om(),Ht=3):n===sh?(n=Om(),Ht=4):Ht=n===xh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,bt===null&&(ue=1,oo(t,Rn(n,t.current)))}function yp(){var t=dn.current;return t===null?!0:(Ct&4194048)===Ct?Vn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Vn:!1}function _p(){var t=G.H;return G.H=Al,t===null?Al:t}function vp(){var t=G.A;return G.A=hE,t}function Ao(){ue=4,fa||(Ct&4194048)!==Ct&&dn.current!==null||(ss=!0),(da&134217727)===0&&(dr&134217727)===0||Zt===null||pa(Zt,Ct,pn,!1)}function af(t,n,a){var l=qt;qt|=2;var c=_p(),f=vp();(Zt!==t||Ct!==n)&&(Eo=null,os(t,n)),n=!1;var g=ue;t:do try{if(Ht!==0&&bt!==null){var E=bt,C=gn;switch(Ht){case 8:nf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Ht;if(Ht=0,gn=null,cs(t,E,C,B),a&&ss){g=0;break t}break;default:B=Ht,Ht=0,gn=null,cs(t,E,C,B)}}mE(),g=ue;break}catch(H){pp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Vi=ar=null,qt=l,G.H=c,G.A=f,bt===null&&(Zt=null,Ct=0,Pu()),g}function mE(){for(;bt!==null;)Ep(bt)}function gE(t,n){var a=qt;qt|=2;var l=_p(),c=vp();Zt!==t||Ct!==n?(Eo=null,vo=Ke()+500,os(t,n)):ss=zn(t,n);t:do try{if(Ht!==0&&bt!==null){n=bt;var f=gn;e:switch(Ht){case 1:Ht=0,gn=null,cs(t,n,f,1);break;case 2:case 9:if(Im(f)){Ht=0,gn=null,Tp(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),mi(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Im(f)?(Ht=0,gn=null,Tp(n)):(Ht=0,gn=null,cs(t,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?sy(g):E.stateNode.complete){Ht=0,gn=null;var C=E.sibling;if(C!==null)bt=C;else{var B=E.return;B!==null?(bt=B,So(B)):bt=null}break e}}Ht=0,gn=null,cs(t,n,f,5);break;case 6:Ht=0,gn=null,cs(t,n,f,6);break;case 8:nf(),ue=6;break t;default:throw Error(r(462))}}pE();break}catch(H){pp(t,H)}while(!0);return Vi=ar=null,G.H=l,G.A=c,qt=a,bt!==null?0:(Zt=null,Ct=0,Pu(),ue)}function pE(){for(;bt!==null&&!Mc();)Ep(bt)}function Ep(t){var n=Gg(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?So(t):bt=n}function Tp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Bg(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Bg(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:_h(n);default:Fg(a,n),n=bt=vm(n,qi),n=Gg(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?So(t):bt=n}function cs(t,n,a,l){Vi=ar=null,_h(n),Wr=null,ml=0;var c=n.return;try{if(aE(t,c,n,a,Ct)){ue=1,oo(t,Rn(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,oo(t,Rn(a,t.current)),bt=null;return}n.flags&32768?(It||l===1?t=!0:ss||(Ct&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ap(n,t)):So(n)}function So(t){var n=t;do{if((n.flags&32768)!==0){Ap(n,fa);return}t=n.return;var a=lE(n.alternate,n,qi);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ue===0&&(ue=5)}function Ap(t,n){do{var a=uE(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ue=6,bt=null}function Sp(t,n,a,l,c,f,g,E,C){t.cancelPendingCommit=null;do bo();while(Ie!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qc,Uc(t,a,f,g,E,C),t===Zt&&(bt=Zt=null,Ct=0),us=n,ga=t,ji=a,Wh=f,tf=c,fp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,EE(Fi,function(){return Dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=tt.p,tt.p=2,g=qt,qt|=4;try{oE(t,n,a)}finally{qt=g,tt.p=c,G.T=l}}Ie=1,bp(),Rp(),Cp()}}function bp(){if(Ie===1){Ie=0;var t=ga,n=us,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{ap(n,t);var f=pf,g=cm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(C!==null&&jc(E)){var B=C.start,H=C.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var k=q.getSelection(),rt=E.textContent.length,ft=Math.min(C.start,rt),Kt=C.end===void 0?ft:Math.min(C.end,rt);!k.extend&&ft>Kt&&(g=Kt,Kt=ft,ft=g);var M=um(E,ft),V=um(E,Kt);if(M&&V&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var L=F.createRange();L.setStart(M.node,M.offset),k.removeAllRanges(),ft>Kt?(k.addRange(L),k.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),k.addRange(L))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Uo=!!gf,pf=gf=null}finally{qt=c,tt.p=l,G.T=a}}t.current=n,Ie=2}}function Rp(){if(Ie===2){Ie=0;var t=ga,n=us,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{Wg(t,n.alternate,n)}finally{qt=c,tt.p=l,G.T=a}}Ie=3}}function Cp(){if(Ie===4||Ie===3){Ie=0,du();var t=ga,n=us,a=ji,l=fp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,us=ga=null,wp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),Si(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=tt.p,tt.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=c}}(ji&3)!==0&&bo(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ef?Nl++:(Nl=0,ef=t):Nl=0,Ol(0)}}function wp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function bo(){return bp(),Rp(),Cp(),Dp()}function Dp(){if(Ie!==5)return!1;var t=ga,n=Wh;Wh=0;var a=Si(ji),l=G.T,c=tt.p;try{tt.p=32>a?32:a,G.T=null,a=tf,tf=null;var f=ga,g=ji;if(Ie=0,us=ga=null,ji=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,op(f.current),sp(f,f.current,g,a),qt=E,Ol(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{tt.p=c,G.T=l,wp(t,n)}}function Vp(t,n,a){n=Rn(a,n),n=Mh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(Pa(t,2),mi(t))}function Gt(t,n,a){if(t.tag===3)Vp(t,t,a);else for(;n!==null;){if(n.tag===3){Vp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=Rn(a,t),a=Ig(2),l=ua(n,a,2),l!==null&&(Ng(a,l,n,t),Pa(l,2),mi(l));break}}n=n.return}}function rf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Zh=!0,c.add(a),t=yE.bind(null,t,n,a),n.then(t,t))}function yE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Ct&a)===a&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>Ke()-_o?(qt&2)===0&&os(t,0):Jh|=a,ls===Ct&&(ls=0)),mi(t)}function Ip(t,n){n===0&&(n=vu()),t=er(t,n),t!==null&&(Pa(t,n),mi(t))}function _E(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ip(t,a)}function vE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ip(t,a)}function EE(t,n){return Ve(t,n)}var Ro=null,hs=null,sf=!1,Co=!1,lf=!1,ya=0;function mi(t){t!==hs&&t.next===null&&(hs===null?Ro=hs=t:hs=hs.next=t),Co=!0,sf||(sf=!0,AE())}function Ol(t,n){if(!lf&&Co){lf=!0;do for(var a=!1,l=Ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,xp(l,f))}else f=Ct,f=Zn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(a=!0,xp(l,f));l=l.next}while(a);lf=!1}}function TE(){Np()}function Np(){Co=sf=!1;var t=0;ya!==0&&OE()&&(t=ya);for(var n=Ke(),a=null,l=Ro;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,a===null?Ro=c:a.next=c,c===null&&(hs=a)):(a=l,(t!==0||(f&3)!==0)&&(Co=!0)),l=c}Ie!==0&&Ie!==5||Ol(t),ya!==0&&(ya=0)}function Op(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=zc(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,a=Ct,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Si(a)){case 2:case 8:a=ks;break;case 32:a=Fi;break;case 268435456:a=mu;break;default:a=Fi}return l=Mp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bo()&&t.callbackNode!==a)return null;var l=Ct;return l=Zn(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mp(t,l,n),Op(t,Ke()),t.callbackNode!=null&&t.callbackNode===a?Mp.bind(null,t):null)}function xp(t,n){if(bo())return null;mp(t,n,!0)}function AE(){xE(function(){(qt&6)!==0?Ve(Ps,TE):Np()})}function uf(){if(ya===0){var t=Zr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),ya=t}return ya}function zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Up(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function SE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=zp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?zp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var C=g?Up(c,g):new FormData(c);wh(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Up(c,g):new FormData(c),wh(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var of=0;of<Gc.length;of++){var cf=Gc[of],bE=cf.toLowerCase(),RE=cf[0].toUpperCase()+cf.slice(1);Hn(bE,"on"+RE)}Hn(dm,"onAnimationEnd"),Hn(mm,"onAnimationIteration"),Hn(gm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(P0,"onTransitionRun"),Hn(k0,"onTransitionStart"),Hn(H0,"onTransitionCancel"),Hn(pm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Lp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ju(H)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ju(H)}c.currentTarget=null,f=C}}}}function Rt(t,n){var a=n[Ir];a===void 0&&(a=n[Ir]=new Set);var l=t+"__bubble";a.has(l)||(Bp(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),Bp(a,t,l,n)}var wo="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[wo]){t[wo]=!0,Qs.forEach(function(a){a!=="selectionchange"&&(CE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wo]||(n[wo]=!0,hf("selectionchange",!1,n))}}function Bp(t,n,a,l){switch(dy(n)){case 2:var c=tT;break;case 8:c=eT;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!Ya||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}$i(function(){var B=f,H=Tn(a),F=[];t:{var q=ym.get(t);if(q!==void 0){var k=li,rt=t;switch(t){case"keypress":if(Ka(a)===0)break t;case"keydown":case"keyup":k=Lu;break;case"focusin":rt="focus",k=Ja;break;case"focusout":rt="blur",k=Ja;break;case"beforeblur":case"afterblur":k=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case dm:case mm:case gm:k=Iu;break;case pm:k=T;break;case"scroll":case"scrollend":k=il;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ci;break;case"toggle":case"beforetoggle":k=Et}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?q!==null?q+"Capture":null:q;ft=[];for(var V=B,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=qn(V,M),Q!=null&&ft.push(xl(V,Q,L))),Kt)break;V=V.return}0<ft.length&&(q=new k(q,rt,null,a,H),F.push({event:q,listeners:ft}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&a!==tl&&(rt=a.relatedTarget||a.fromElement)&&(ti(rt)||rt[$n]))break t;if((k||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,k?(rt=a.relatedTarget||a.toElement,k=B,rt=rt?ti(rt):null,rt!==null&&(Kt=h(rt),ft=rt.tag,rt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(k=null,rt=B),k!==rt)){if(ft=al,Q="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Ci,Q="onPointerLeave",M="onPointerEnter",V="pointer"),Kt=k==null?q:on(k),L=rt==null?q:on(rt),q=new ft(Q,V+"leave",k,a,H),q.target=Kt,q.relatedTarget=L,Q=null,ti(H)===B&&(ft=new ft(M,V+"enter",rt,a,H),ft.target=L,ft.relatedTarget=Kt,Q=ft),Kt=Q,k&&rt)e:{for(ft=wE,M=k,V=rt,L=0,Q=M;Q;Q=ft(Q))L++;Q=0;for(var ot=V;ot;ot=ft(ot))Q++;for(;0<L-Q;)M=ft(M),L--;for(;0<Q-L;)V=ft(V),Q--;for(;L--;){if(M===V||V!==null&&M===V.alternate){ft=M;break e}M=ft(M),V=ft(V)}ft=null}else ft=null;k!==null&&qp(F,q,k,ft,!1),rt!==null&&Kt!==null&&qp(F,Kt,rt,ft,!0)}}t:{if(q=B?on(B):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var Ut=nm;else if(tm(q))if(im)Ut=B0;else{Ut=U0;var lt=z0}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&xr(B.elementType)&&(Ut=nm):Ut=L0;if(Ut&&(Ut=Ut(t,B))){em(F,Ut,a,H);break t}lt&&lt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Js(q,"number",q.value)}switch(lt=B?on(B):window,t){case"focusin":(tm(lt)||lt.contentEditable==="true")&&(kr=lt,Pc=B,ol=null);break;case"focusout":ol=Pc=kr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,hm(F,a,H);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":hm(F,a,H)}var St;if(Bt)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Pr?$a(t,a)&&(wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(ci&&a.locale!=="ko"&&(Pr||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Pr&&(St=nl()):(si=H,el="value"in si?si.value:si.textContent,Pr=!0)),lt=Do(B,wt),0<lt.length&&(wt=new oi(wt,t,null,a,H),F.push({event:wt,listeners:lt}),St?wt.data=St:(St=jr(a),St!==null&&(wt.data=St)))),(St=Sn?N0(t,a):O0(t,a))&&(wt=Do(B,"onBeforeInput"),0<wt.length&&(lt=new oi("onBeforeInput","beforeinput",null,a,H),F.push({event:lt,listeners:wt}),lt.data=St)),SE(F,t,B,a,H)}Lp(F,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Do(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,a),c!=null&&l.unshift(xl(t,c,f)),c=qn(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function wE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=qn(a,f),B!=null&&g.unshift(xl(a,B,C))):c||(B=qn(a,f),B!=null&&g.push(xl(a,B,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var DE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(DE,`
`).replace(VE,"")}function Pp(t,n){return n=jp(n),jp(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Ws(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,Or(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Ws(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(t,n,l,H,a,null)}}bu(t,f,E,C,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,a,null)}Ki(t,l,c,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,C,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Rt(Ml[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(xr(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&mf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function IE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,B=null,H=null;for(k in a){var F=a[k];if(a.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=F;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,F)}}for(var q in l){var k=l[q];if(F=a[q],l.hasOwnProperty(q)&&(k!=null||F!=null))switch(q){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":H=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==F&&Xt(t,n,q,k,l,F)}}Mr(t,g,E,C,B,H,f,c);return;case"select":k=g=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":k=C;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(t,n,c,f,l,C)}n=E,a=g,l=k,q!=null?Xi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":k=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Ru(t,q,k);return;case"option":for(var rt in a)if(q=a[rt],a.hasOwnProperty(rt)&&q!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Xt(t,n,rt,null,l,q)}for(C in l)if(q=l[C],k=a[C],l.hasOwnProperty(C)&&q!==k&&(q!=null||k!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(t,n,C,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)q=a[ft],a.hasOwnProperty(ft)&&q!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,q);for(B in l)if(q=l[B],k=a[B],l.hasOwnProperty(B)&&q!==k&&(q!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Xt(t,n,B,q,l,k)}return;default:if(xr(n)){for(var Kt in a)q=a[Kt],a.hasOwnProperty(Kt)&&q!==void 0&&!l.hasOwnProperty(Kt)&&mf(t,n,Kt,void 0,l,q);for(H in l)q=l[H],k=a[H],!l.hasOwnProperty(H)||q===k||q===void 0&&k===void 0||mf(t,n,H,q,l,k);return}}for(var M in a)q=a[M],a.hasOwnProperty(M)&&q!=null&&!l.hasOwnProperty(M)&&Xt(t,n,M,null,l,q);for(F in l)q=l[F],k=a[F],!l.hasOwnProperty(F)||q===k||q==null&&k==null||Xt(t,n,F,q,l,k)}function kp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&kp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var H=C.transferSize,F=C.initiatorType;H&&kp(F)&&(C=C.responseEnd,g+=H*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gf=null,pf=null;function Vo(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function OE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(zE)}:Qp;function zE(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function Yp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),gs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&zl(t.ownerDocument.body);a=c}while(a);gs(n)}function Xp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),Nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function UE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function LE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Kp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Af=null;function Zp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return In(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Jp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function $p(t,n,a){switch(n=Vo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Nr(t)}var Nn=new Map,Wp=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=tt.d;tt.d={f:qE,r:jE,D:PE,C:kE,L:HE,m:GE,X:FE,S:QE,M:YE};function qE(){var t=Pi.f(),n=To();return t||n}function jE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Pi.r(t)}var fs=typeof document>"u"?null:document;function ty(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Wp.has(c)||(Wp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function PE(t){Pi.D(t),ty("dns-prefetch",t,null)}function kE(t,n){Pi.C(t,n),ty("preconnect",t,n)}function HE(t,n,a){Pi.L(t,n,a);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Nn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function GE(t,n){Pi.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Nn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Nn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),Pe(l,"link",t),_e(l),a.head.appendChild(l)}}}function QE(t,n,a){Pi.S(t,n,a);var l=fs;if(l&&t){var c=ei(l).hoistableStyles,f=ds(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ul(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(f))&&Sf(t,a);var C=g=l.createElement("link");_e(C),Pe(C,"link",t),C._p=new Promise(function(B,H){C.onload=B,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,No(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function FE(t,n){Pi.X(t,n);var a=fs;if(a&&t){var l=ei(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=b({src:t,async:!0},n),(n=Nn.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function YE(t,n){Pi.M(t,n);var a=fs;if(a&&t){var l=ei(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ey(t,n,a,l){var c=(c=At.current)?Io(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ds(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||XE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ds(t){return'href="'+We(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function ny(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function XE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),_e(n),t.head.appendChild(n))}function ms(t){return'[src="'+We(t)+'"]'}function Ll(t){return"script[async]"+t}function iy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Pe(l,"style",c),No(l,a.precedence,t),n.instance=l;case"stylesheet":c=ds(a.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=ny(a),(c=Nn.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(f,"link",l),n.state.loading|=4,No(f,a.precedence,t),n.instance=f;case"script":return f=ms(a.src),(c=t.querySelector(Ll(f)))?(n.instance=c,_e(c),c):(l=a,(c=Nn.get(f))&&(l=b({},a),bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,No(l,a.precedence,t));return n.instance}function No(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oo=null;function ay(t,n,a){if(Oo===null){var l=new Map,c=Oo=new Map;c.set(a,l)}else c=Oo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ry(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ds(l.href),f=n.querySelector(Ul(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=ny(l),(c=Nn.get(c))&&Sf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function JE(t,n){return t.stylesheets&&t.count===0&&zo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rf===0&&(Rf=62500*NE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Mo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xo=null;function zo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xo=new Map,n.forEach($E,t),xo=null,Mo.call(t))}function $E(t,n){if(!(n.state.loading&4)){var a=xo.get(t);if(a)var l=a.get(null);else{a=new Map,xo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function WE(t,n,a,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ly(t,n,a,l,c,f,g,E,C,B,H,F){return t=new WE(t,n,a,g,C,B,H,F,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function uy(t){return t?(t=Qr,t):Qr}function oy(t,n,a,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(sn(a,t,n),pl(a,t,n))}function cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cf(t,n){cy(t,n),(t=t.alternate)&&cy(t,n)}function hy(t){if(t.tag===13||t.tag===31){var n=er(t,67108864);n!==null&&sn(n,t,67108864),Cf(t,67108864)}}function fy(t){if(t.tag===13||t.tag===31){var n=yn();n=Ha(n);var a=er(t,n);a!==null&&sn(a,t,n),Cf(t,n)}}var Uo=!0;function tT(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=2,wf(t,n,a,l)}finally{tt.p=f,G.T=c}}function eT(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=8,wf(t,n,a,l)}finally{tt.p=f,G.T=c}}function wf(t,n,a,l){if(Uo){var c=Df(l);if(c===null)df(t,n,l,Lo,a),my(t,l);else if(iT(c,t,n,a,l))l.stopPropagation();else if(my(t,l),n&4&&-1<nT.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-oe(g);E.entanglements[1]|=C,g&=~C}mi(f),(qt&6)===0&&(vo=Ke()+500,Ol(0))}}break;case 31:case 13:E=er(f,2),E!==null&&sn(E,f,2),To(),Cf(f,2)}if(f=Df(l),f===null&&df(t,n,l,Lo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Df(t){return t=Tn(t),Vf(t)}var Lo=null;function Vf(t){if(Lo=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lo=t,null}function dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Ps:return 2;case ks:return 8;case Fi:case xc:return 32;case mu:return 268435456;default:return 32}default:return 32}}var If=!1,va=null,Ea=null,Ta=null,ql=new Map,jl=new Map,Aa=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(t,n){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Pl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iT(t,n,a,l,c){switch(n){case"focusin":return va=Pl(va,t,n,a,l,c),!0;case"dragenter":return Ea=Pl(Ea,t,n,a,l,c),!0;case"mouseover":return Ta=Pl(Ta,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return ql.set(f,Pl(ql.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,Pl(jl.get(f)||null,t,n,a,l,c)),!0}return!1}function gy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){fy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Un(t.priority,function(){fy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Df(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return n=En(a),n!==null&&hy(n),t.blockedOn=a,!1;n.shift()}return!0}function py(t,n,a){Bo(t)&&a.delete(n)}function aT(){If=!1,va!==null&&Bo(va)&&(va=null),Ea!==null&&Bo(Ea)&&(Ea=null),Ta!==null&&Bo(Ta)&&(Ta=null),ql.forEach(py),jl.forEach(py)}function qo(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aT)))}var jo=null;function yy(t){jo!==t&&(jo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jo===t&&(jo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function gs(t){function n(C){return qo(C,t)}va!==null&&qo(va,t),Ea!==null&&qo(Ea,t),Ta!==null&&qo(Ta,t),ql.forEach(n),jl.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||yy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Vf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),yy(a)}}}function _y(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Nf(t){this._internalRoot=t}Po.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();oy(a,l,t,n,null,null)},Po.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oy(t.current,2,null,t,null,null),To(),n[$n]=null}};function Po(t){this._internalRoot=t}Po.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&gy(t)}};var vy=e.version;if(vy!=="19.2.1")throw Error(r(527,vy,"19.2.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var rT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{xn=ko.inject(rT),Ue=ko}catch{}}return Hl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=Cg,f=wg,g=Dg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ly(t,1,!1,null,null,a,l,null,c,f,g,_y),t[$n]=n.current,ff(t),new Nf(n)},Hl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=Cg,g=wg,E=Dg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=ly(t,1,!0,n,a??null,l,c,C,f,g,E,_y),n.context=uy(null),a=n.current,l=yn(),l=Ha(l),c=la(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,Pa(n,a),mi(n),t[$n]=n.current,ff(t),new Po(n)},Hl.version="19.2.1",Hl}var Vy;function gT(){if(Vy)return xf.exports;Vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xf.exports=mT(),xf.exports}var pT=gT();const yT=({children:s})=>st.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem",width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",gap:"2rem"},children:[st.jsxs("header",{style:{textAlign:"center",marginBottom:"1rem"},children:[st.jsx("h1",{style:{fontSize:"3rem",background:"linear-gradient(to right, #a78bfa, #f472b6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:"Amigo Invisible"}),st.jsx("p",{style:{color:"var(--color-text-dim)"},children:"Organiza el mejor intercambio de regalos!"})]}),st.jsx("main",{className:"glass-panel",style:{padding:"2rem"},children:s}),st.jsxs("footer",{style:{textAlign:"center",marginTop:"auto",paddingTop:"2rem",color:"var(--color-text-dim)",fontSize:"0.875rem"},children:[" ",new Date().getFullYear()," Secret Santa App"]})]}),_T=({onAddUser:s})=>{const[e,i]=$e.useState(""),r=u=>{u.preventDefault(),e.trim()&&(s(e.trim()),i(""))};return st.jsxs("form",{onSubmit:r,style:{display:"flex",gap:"0.5rem",marginBottom:"2rem"},children:[st.jsx("input",{type:"text",className:"input-field",placeholder:"Nombre del participante...",value:e,onChange:u=>i(u.target.value),autoFocus:!0}),st.jsx("button",{type:"submit",className:"btn-primary",children:"Aadir"})]})},vT=({users:s,onRemoveUser:e})=>s.length===0?st.jsx("div",{style:{textAlign:"center",color:"var(--color-text-dim)",fontStyle:"italic",padding:"2rem",border:"1px dashed var(--color-border)",borderRadius:"0.5rem"},children:"No hay participantes todava. Aade algunos!"}):st.jsx("ul",{style:{listStyle:"none",display:"flex",flexDirection:"column",gap:"0.5rem"},children:s.map(i=>st.jsxs("li",{style:{background:"var(--color-surface)",padding:"1rem",borderRadius:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid var(--color-border)"},children:[st.jsx("span",{style:{fontWeight:500},children:i.name}),st.jsx("button",{onClick:()=>e(i.id),style:{background:"transparent",color:"#ef4444",fontSize:"1.25rem",opacity:.8,transition:"opacity 0.2s",padding:"0.25rem"},title:"Eliminar",children:""})]},i.id))}),ET=({assignment:s,onClose:e,onComplete:i})=>{const[r,u]=$e.useState(!1);return st.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:st.jsxs("div",{className:"glass-panel",style:{maxWidth:"500px",width:"100%",padding:"2rem",position:"relative"},children:[st.jsx("button",{onClick:e,style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",color:"var(--color-text)",fontSize:"1.5rem",cursor:"pointer"},children:""}),r?st.jsxs("div",{style:{textAlign:"center"},children:[st.jsx("h3",{style:{marginBottom:"2rem",color:"var(--color-secondary)"},children:"Tu Amigo Invisible es:"}),st.jsx("div",{style:{fontSize:"3rem",fontWeight:"bold",color:"var(--color-primary)",marginBottom:"3rem",animation:"fadeIn 0.5s ease-out"},children:s.receiver.name}),st.jsx("p",{style:{color:"var(--color-text-dim)",marginBottom:"2rem"},children:"Shhh! No se lo digas a nadie. "}),st.jsx("button",{className:"btn-primary",onClick:()=>{i&&i(),e()},children:"Entendido"})]}):st.jsxs("div",{style:{textAlign:"center"},children:[st.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-secondary)"},children:"Confirmacin de Identidad"}),st.jsxs("p",{style:{marginBottom:"2rem",fontSize:"1.2rem"},children:["Eres realmente ",st.jsx("strong",{style:{color:"var(--color-primary)"},children:s.giver.name}),"?"]}),st.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[st.jsx("button",{className:"btn-primary",onClick:()=>u(!0),children:"S, soy yo"}),st.jsx("button",{onClick:e,style:{padding:"0.8rem 1.5rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"transparent",color:"var(--color-text)",cursor:"pointer"},children:"No, cancelar"})]})]})]})})},TT=({isOpen:s,onClose:e,onConfirm:i})=>{const[r,u]=$e.useState("");if($e.useEffect(()=>{s&&u("")},[s]),!s)return null;const h=r.trim().toLowerCase()==="reiniciar";return st.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:e,children:st.jsxs("div",{style:{backgroundColor:"var(--color-surface, #1e1e1e)",padding:"2rem",borderRadius:"1rem",maxWidth:"400px",width:"90%",border:"1px solid var(--color-border)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},onClick:d=>d.stopPropagation(),children:[st.jsx("h3",{style:{marginTop:0,fontSize:"1.25rem",color:"#ef4444"},children:" Accin Peligrosa"}),st.jsxs("p",{style:{color:"var(--color-text-dim)",lineHeight:1.5},children:["Esta accin eliminar ",st.jsx("strong",{children:"permanentemente"})," todo el progreso del sorteo actual. Esta accin no se puede deshacer."]}),st.jsx("p",{style:{fontSize:"0.9rem"},children:"Introduce la contrasea de administrador para continuar:"}),st.jsx("input",{type:"password",value:r,onChange:d=>u(d.target.value),placeholder:"Contrasea",style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"rgba(255, 255, 255, 0.05)",color:"var(--color-text)",marginBottom:"1.5rem",fontSize:"1rem",boxSizing:"border-box"},autoFocus:!0}),st.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[st.jsx("button",{onClick:e,style:{padding:"0.75rem 1.5rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"transparent",color:"var(--color-text)",cursor:"pointer"},children:"Cancelar"}),st.jsx("button",{onClick:i,disabled:!h,style:{padding:"0.75rem 1.5rem",borderRadius:"0.5rem",border:"none",background:h?"#ef4444":"rgba(239, 68, 68, 0.2)",color:h?"white":"rgba(255, 255, 255, 0.3)",cursor:h?"pointer":"not-allowed",fontWeight:"bold",transition:"all 0.2s"},children:"Confirmar"})]})]})})},AT=4,ST=({assignments:s,revealed:e,onMarkAsRevealed:i,onReset:r})=>{const[u,h]=$e.useState(null),[,d]=$e.useState({id:null,count:0}),[y,v]=$e.useState(new Set),_=j=>{const Z=e.has(j.giver.id),W=y.has(j.giver.id);Z&&!W?d(ut=>{if(ut.id===j.giver.id){const gt=ut.count+1;return gt>=AT?(v(dt=>new Set(dt).add(j.giver.id)),{id:null,count:0}):{...ut,count:gt}}return{id:j.giver.id,count:1}}):h(j)},A=()=>{u&&i(u.giver.id)},[b,x]=$e.useState(!1);return st.jsxs("div",{style:{width:"100%"},children:[st.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[st.jsx("h2",{style:{fontSize:"1.5rem",margin:0},children:" Selecciona tu nombre"}),st.jsx("button",{onClick:()=>x(!0),style:{background:"transparent",border:"1px solid var(--color-border)",padding:"0.5rem 1rem",borderRadius:"0.5rem",color:"var(--color-text-dim)",cursor:"pointer"},children:"Reiniciar Sorteo"})]}),st.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1.5rem",justifyContent:"center"},children:s.map(j=>{const Z=e.has(j.giver.id),W=y.has(j.giver.id),J=Z&&!W;return st.jsxs("button",{onClick:()=>_(j),className:"glass-panel",style:{padding:"2rem 1rem",border:"1px solid var(--color-border)",background:J?"rgba(0, 0, 0, 0.2)":"var(--color-surface)",color:J?"var(--color-text-dim)":"var(--color-text)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",transition:"transform 0.2s, background 0.2s",textAlign:"center",opacity:J?.6:1},onMouseEnter:ut=>{J||(ut.currentTarget.style.transform="translateY(-5px)",ut.currentTarget.style.background="rgba(139, 92, 246, 0.1)")},onMouseLeave:ut=>{ut.currentTarget.style.transform="translateY(0)",ut.currentTarget.style.background=J?"rgba(0, 0, 0, 0.2)":"var(--color-surface)"},children:[st.jsx("div",{style:{fontSize:"2rem"},children:J?"":""}),st.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:j.giver.name}),st.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-dim)"},children:J?"Completado":"Toca para descubrir"})]},j.giver.id)})}),u&&st.jsx(ET,{assignment:u,onClose:()=>h(null),onComplete:A}),st.jsx(TT,{isOpen:b,onClose:()=>x(!1),onConfirm:()=>{r(),x(!1)}})]})},bT=s=>{if(!s||s.length<2)throw new Error("Necesitas al menos 2 participantes.");const e=[...s].sort(()=>Math.random()-.5);return e.map((r,u)=>{const h=e[(u+1)%e.length];return{giver:r,receiver:h}}).sort(()=>Math.random()-.5)},RT=()=>{};var Iy={};const Q_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},CT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,j=_&63;v||(j=64,d||(x=64)),r.push(i[A],i[b],i[x],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):CT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const b=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||_==null||b==null)throw new wT;const x=h<<2|y>>4;if(r.push(x),_!==64){const j=y<<4&240|_>>2;if(r.push(j),b!==64){const Z=_<<6&192|b;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DT=function(s){const e=Q_(s);return F_.encodeByteArray(e,!0)},tc=function(s){return DT(s).replace(/\./g,"")},VT=function(s){try{return F_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NT=()=>IT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof Iy>"u")return;const s=Iy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&VT(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return RT()||NT()||OT()||MT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xT=s=>yd()?.emulatorHosts?.[s],zT=s=>{const e=xT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Y_=()=>yd()?.config;class UT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _d(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(s){return(await fetch(s,{credentials:"include"})).ok}function BT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[tc(JSON.stringify(i)),tc(JSON.stringify(d)),""].join(".")}const Xl={};function qT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?s.emulator.push(e):s.prod.push(e);return s}function jT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ny=!1;function PT(s,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Xl[s]===e||Xl[s]||Ny)return;Xl[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",h=qT().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ny=!0,d()},x}function A(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=jT(r),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ut=i("preprendIcon"),gt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const dt=x.element;y(dt),A(J,W);const Qt=_();v(gt,ut),dt.append(gt,Z,J,Qt),document.body.appendChild(dt)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function kT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HT(){const s=yd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GT(){return!HT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const YT="FirebaseError";class Ns extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=YT,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?XT(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Ns(u,y,r)}}function XT(s,e){return s.replace(KT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const KT=/\{\$([^}]+)}/g;function Wl(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(Oy(h)&&Oy(d)){if(!Wl(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function Oy(s){return s!==null&&typeof s=="object"}function Ti(s){return s&&s._delegate?s._delegate:s}class tu{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pr="[DEFAULT]";class ZT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new UT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($T(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(e),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&e(h,r),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JT(s){return s===pr?void 0:s}function $T(s){return s.instantiationMode==="EAGER"}class WT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const t1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},e1=Mt.INFO,n1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},i1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=n1[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=i1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const a1=(s,e)=>e.some(i=>s instanceof i);let My,xy;function r1(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s1(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Yf=new WeakMap,J_=new WeakMap,Bf=new WeakMap,vd=new WeakMap;function l1(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ra(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,s)}).catch(()=>{}),vd.set(e,s),e}function u1(s){if(Yf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Yf.set(s,e)}let Xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Yf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function o1(s){Xf=s(Xf)}function c1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(qf(this),e,...i);return J_.set(r,e.sort?e.sort():[e]),Ra(r)}:s1().includes(s)?function(...e){return s.apply(qf(this),e),Ra(Z_.get(this))}:function(...e){return Ra(s.apply(qf(this),e))}}function h1(s){return typeof s=="function"?c1(s):(s instanceof IDBTransaction&&u1(s),a1(s,r1())?new Proxy(s,Xf):s)}function Ra(s){if(s instanceof IDBRequest)return l1(s);if(Bf.has(s))return Bf.get(s);const e=h1(s);return e!==s&&(Bf.set(s,e),vd.set(e,s)),e}const qf=s=>vd.get(s);function f1(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=Ra(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const d1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],jf=new Map;function zy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=m1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||d1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return jf.set(e,h),h}o1(s=>({...s,get:(e,i,r)=>zy(e,i)||s.get(e,i,r),has:(e,i)=>!!zy(e,i)||s.has(e,i)}));class g1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function p1(s){return s.getComponent()?.type==="VERSION"}const Kf="@firebase/app",Uy="0.14.6";const ki=new K_("@firebase/app"),y1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",A1="@firebase/auth",S1="@firebase/auth-compat",b1="@firebase/database",R1="@firebase/data-connect",C1="@firebase/database-compat",w1="@firebase/functions",D1="@firebase/functions-compat",V1="@firebase/installations",I1="@firebase/installations-compat",N1="@firebase/messaging",O1="@firebase/messaging-compat",M1="@firebase/performance",x1="@firebase/performance-compat",z1="@firebase/remote-config",U1="@firebase/remote-config-compat",L1="@firebase/storage",B1="@firebase/storage-compat",q1="@firebase/firestore",j1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",H1="12.6.0";const Zf="[DEFAULT]",G1={[Kf]:"fire-core",[y1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[A1]:"fire-auth",[S1]:"fire-auth-compat",[b1]:"fire-rtdb",[R1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[w1]:"fire-fn",[D1]:"fire-fn-compat",[V1]:"fire-iid",[I1]:"fire-iid-compat",[N1]:"fire-fcm",[O1]:"fire-fcm-compat",[M1]:"fire-perf",[x1]:"fire-perf-compat",[z1]:"fire-rc",[U1]:"fire-rc-compat",[L1]:"fire-gcs",[B1]:"fire-gcs-compat",[q1]:"fire-fst",[P1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};const ec=new Map,Q1=new Map,Jf=new Map;function Ly(s,e){try{s.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function nc(s){const e=s.name;if(Jf.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,s);for(const i of ec.values())Ly(i,s);for(const i of Q1.values())Ly(i,s);return!0}function F1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Y1(s){return s==null?!1:s.settings!==void 0}const X1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new X_("app","Firebase",X1);class K1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const Z1=H1;function $_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Zf,automaticDataCollectionEnabled:!0,...e},u=r.name;if(typeof u!="string"||!u)throw Ca.create("bad-app-name",{appName:String(u)});if(i||(i=Y_()),!i)throw Ca.create("no-options");const h=ec.get(u);if(h){if(Wl(i,h.options)&&Wl(r,h.config))return h;throw Ca.create("duplicate-app",{appName:u})}const d=new WT(u);for(const v of Jf.values())d.addComponent(v);const y=new K1(i,r,d);return ec.set(u,y),y}function J1(s=Zf){const e=ec.get(s);if(!e&&s===Zf&&Y_())return $_();if(!e)throw Ca.create("no-app",{appName:s});return e}function Ts(s,e,i){let r=G1[s]??s;i&&(r+=`-${i}`);const u=r.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${e}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}nc(new tu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $1="firebase-heartbeat-database",W1=1,eu="firebase-heartbeat-store";let Pf=null;function W_(){return Pf||(Pf=f1($1,W1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ca.create("idb-open",{originalErrorMessage:s.message})})),Pf}async function tA(s){try{const i=(await W_()).transaction(eu),r=await i.objectStore(eu).get(tv(s));return await i.done,r}catch(e){if(e instanceof Ns)ki.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e?.message});ki.warn(i.message)}}}async function By(s,e){try{const r=(await W_()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,tv(s)),await r.done}catch(i){if(i instanceof Ns)ki.warn(i.message);else{const r=Ca.create("idb-set",{originalErrorMessage:i?.message});ki.warn(r.message)}}}function tv(s){return`${s.name}!${s.options.appId}`}const eA=1024,nA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nA){const u=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qy(),{heartbeatsToSend:i,unsentEntries:r}=aA(this._heartbeatsCache.heartbeats),u=tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ki.warn(e),""}}}function qy(){return new Date().toISOString().substring(0,10)}function aA(s,e=eA){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),jy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),jy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?FT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jy(s){return tc(JSON.stringify({version:2,heartbeats:s})).length}function sA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function lA(s){nc(new tu("platform-logger",e=>new g1(e),"PRIVATE")),nc(new tu("heartbeat",e=>new iA(e),"PRIVATE")),Ts(Kf,Uy,s),Ts(Kf,Uy,"esm2020"),Ts("fire-js","")}lA("");var uA="firebase",oA="12.6.0";Ts(uA,oA,"app");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wa,ev;(function(){var s;function e(D,S){function w(){}w.prototype=S.prototype,D.F=S.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,I,z){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=D.g[0],w=D.g[1],I=D.g[2];let z=D.g[3],R;R=S+(z^w&(I^z))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(I^S&(w^I))+O[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(w^z&(S^w))+O[2]+606105819&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(S^I&(z^S))+O[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(z^w&(I^z))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(I^S&(w^I))+O[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(w^z&(S^w))+O[6]+2821735955&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(S^I&(z^S))+O[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(z^w&(I^z))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(I^S&(w^I))+O[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(w^z&(S^w))+O[10]+4294925233&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(S^I&(z^S))+O[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(z^w&(I^z))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=z+(I^S&(w^I))+O[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(w^z&(S^w))+O[14]+2792965006&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(S^I&(z^S))+O[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^z&(w^I))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(S^w))+O[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(z^S))+O[11]+643717713&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(I^z))+O[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(w^I))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(S^w))+O[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(z^S))+O[15]+3634488961&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(I^z))+O[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(w^I))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(S^w))+O[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(z^S))+O[3]+4107603335&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(I^z))+O[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(w^I))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(S^w))+O[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(z^S))+O[7]+1735328473&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^S&(I^z))+O[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^z)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^I)+O[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^w)+O[11]+1839030562&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^S)+O[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^z)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^I)+O[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^w)+O[7]+4139469664&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^S)+O[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^z)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^I)+O[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^w)+O[3]+3572445317&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^S)+O[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^z)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=z+(S^w^I)+O[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^w)+O[15]+530742520&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^S)+O[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~z))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~I))+O[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~w))+O[14]+2878612391&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~S))+O[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~z))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~I))+O[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~w))+O[10]+4293915773&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~S))+O[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~z))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~I))+O[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~w))+O[6]+2734768916&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~S))+O[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~z))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=z+(w^(S|~I))+O[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~w))+O[2]+718787259&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const w=S-this.blockSize,O=this.C;let I=this.h,z=0;for(;z<S;){if(I==0)for(;z<=w;)u(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(O[I++]=D.charCodeAt(z++),I==this.blockSize){u(this,O),I=0;break}}else for(;z<S;)if(O[I++]=D[z++],I==this.blockSize){u(this,O),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[S++]=this.g[w]>>>O&255;return D};function h(D,S){var w=y;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=S(D)}function d(D,S){this.h=S;const w=[];let O=!0;for(let I=D.length-1;I>=0;I--){const z=D[I]|0;O&&z==S||(w[I]=z,O=!1)}this.g=w}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return J(_(-D));const S=[];let w=1;for(let O=0;D>=w;O++)S[O]=D/w|0,w*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return J(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=b;for(let z=0;z<D.length;z+=8){var I=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+I),S);I<8?(I=_(Math.pow(S,I)),O=O.j(I).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var b=v(0),x=v(1),j=v(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let D=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(D);const S=_(Math.pow(D,6));var w=this;let O="";for(;;){const I=Qt(w,S).g;w=ut(w,I.j(S));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=I,Z(w))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=ut(this,D),W(D)?-1:Z(D)?0:1};function J(D){const S=D.g.length,w=[];for(let O=0;O<S;O++)w[O]=~D.g[O];return new d(w,~D.h).add(x)}s.abs=function(){return W(this)?J(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let I=0;I<=S;I++){let z=O+(this.i(I)&65535)+(D.i(I)&65535),R=(z>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=R>>>16,z&=65535,R&=65535,w[I]=R<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ut(D,S){return D.add(J(S))}s.j=function(D){if(Z(this)||Z(D))return b;if(W(this))return W(D)?J(this).j(J(D)):J(J(this).j(D));if(W(D))return J(this.j(J(D)));if(this.l(j)<0&&D.l(j)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const z=this.i(O)>>>16,R=this.i(O)&65535,ne=D.i(I)>>>16,we=D.i(I)&65535;w[2*O+2*I]+=R*we,gt(w,2*O+2*I),w[2*O+2*I+1]+=z*we,gt(w,2*O+2*I+1),w[2*O+2*I+1]+=R*ne,gt(w,2*O+2*I+1),w[2*O+2*I+2]+=z*ne,gt(w,2*O+2*I+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new d(w,0)};function gt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function dt(D,S){this.g=D,this.h=S}function Qt(D,S){if(Z(S))throw Error("division by zero");if(Z(D))return new dt(b,b);if(W(D))return S=Qt(J(D),S),new dt(J(S.g),J(S.h));if(W(S))return S=Qt(D,J(S)),new dt(J(S.g),S.h);if(D.g.length>30){if(W(D)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=S;O.l(D)<=0;)w=$t(w),O=$t(O);var I=xt(w,1),z=xt(O,1);for(O=xt(O,2),w=xt(w,2);!Z(O);){var R=z.add(O);R.l(D)<=0&&(I=I.add(w),z=R),O=xt(O,1),w=xt(w,1)}return S=ut(D,I.j(S)),new dt(I,S)}for(I=b;D.l(S)>=0;){for(w=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=_(w),R=z.j(S);W(R)||R.l(D)>0;)w-=O,z=_(w),R=z.j(S);Z(z)&&(z=x),I=I.add(z),D=ut(D,R)}return new dt(I,D)}s.B=function(D){return Qt(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function $t(D){const S=D.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function xt(D,S){const w=S>>5;S%=32;const O=D.g.length-w,I=[];for(let z=0;z<O;z++)I[z]=S>0?D.i(z+w)>>>S|D.i(z+w+1)<<32-S:D.i(z+w);return new d(I,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ev=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,wa=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var Ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nv,Gl,iv,Xo,$f,av,rv,sv;(function(){var s,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ho=="object"&&Ho];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,P){for(var $=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)$[Et-2]=arguments[Et];return m.prototype[U].apply(T,$)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function j(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const P=U.length||0;o.length=p+P;for(let $=0;$<P;$++)o[p+$]=U[$]}else o.push(U)}}class W{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(o){d.setTimeout(()=>{throw o},0)}function ut(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new Qt,o=>o.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,xt=!1,D=new gt,S=()=>{const o=Promise.resolve(void 0);$t=()=>{o.then(w)}};function w(){for(var o;o=ut();){try{o.h.call(o.g)}catch(p){J(p)}var m=dt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}xt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(ne,I),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Pt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function N(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,U){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const $=At(o,m,T,U);return $>-1?(m=o[$],p||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,U),m.fa=p,o.push(m)),m};function pt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(T,U,1),P&&(ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function At(o,m,p,T){for(let U=0;U<o.length;++U){const P=o[U];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),De={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ie(o,m[P],p,T,U);return null}return p=js(p),o&&o[we]?o.J(m,p,y(T)?!!T.capture:!1,U):La(o,m,p,!1,T,U)}function La(o,m,p,T,U,P){if(!m)throw Error("Invalid event type");const $=y(U)?!!U.capture:!!U;let Et=Ba(o);if(Et||(o[Nt]=Et=new at(o)),p=Et.add(m,p,T,$,P),p.proxy)return p;if(T=Cr(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)z||(U=$),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Yn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cr(){function o(p){return m.call(o.src,o.listener,p)}const m=Bs;return o}function wr(o,m,p,T,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)wr(o,m[P],p,T,U);else T=y(T)?!!T.capture:!!T,p=js(p),o&&o[we]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=At(m,p,T,U),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=Ba(o))&&(m=o.g[m.toString()],o=-1,m&&(o=At(m,p,T,U)),(p=o>-1?m[o]:null)&&Dr(p))}function Dr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])pt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ba(m))?(pt(p,o),p.h==0&&(p.src=null,m[Nt]=null)):ht(o)}}}function Yn(o){return o in De?De[o]:De[o]="on"+o}function Bs(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Dr(o),o=p.call(T,m)}return o}function Ba(o){return o=o[Nt],o instanceof at?o:null}var qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function js(o){return typeof o=="function"?o:(o[qs]||(o[qs]=function(m){return o.handleEvent(m)}),o[qs])}function ge(){O.call(this),this.i=new at(this),this.M=this,this.G=null}b(ge,O),ge.prototype[we]=!0,ge.prototype.removeEventListener=function(o,m,p,T){wr(this,o,m,p,T)};function Ve(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var U=m;m=new I(T,o),et(m,U)}U=!0;let P,$;if(p)for($=p.length-1;$>=0;$--)P=m.g=p[$],U=Qi(P,T,!0,m)&&U;if(P=m.g=o,U=Qi(P,T,!0,m)&&U,U=Qi(P,T,!1,m)&&U,p)for($=0;$<p.length;$++)P=m.g=p[$],U=Qi(P,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete o.g[m],o.h--}}this.G=null},ge.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ge.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Qi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const $=m[P];if($&&!$.da&&$.capture==p){const Et=$.listener,ce=$.ha||$.src;$.fa&&pt(o.i,$),U=Et.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function Mc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function du(o){o.g=Mc(()=>{o.g=null,o.i&&(o.i=!1,du(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ke extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(o){O.call(this),this.h=o,this.g={}}b(qa,O);var Ps=[];function ks(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Dr(m)},o),o.g={}}qa.prototype.N=function(){qa.Z.N.call(this),ks(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,xc=d.JSON.parse,mu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function gu(){}function pu(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){I.call(this,"d")}b(Ue,I);function vn(){I.call(this,"c")}b(vn,I);var oe={},yu=null;function Vr(){return yu=yu||new ge}oe.Ia="serverreachability";function _u(o){I.call(this,oe.Ia,o)}b(_u,I);function Xn(o){const m=Vr();Ve(m,new _u(m))}oe.STAT_EVENT="statevent";function ja(o,m){I.call(this,oe.STAT_EVENT,o),this.stat=m}b(ja,I);function pe(o){const m=Vr();Ve(m,new ja(m,o))}oe.Ja="timingevent";function Kn(o,m){I.call(this,oe.Ja,o),this.size=m}b(Kn,I);function Zn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function zc(o,m,p,T,U,P){o.info(function(){if(o.g)if(P){var $="",Et=P.split("&");for(let Bt=0;Bt<Et.length;Bt++){var ce=Et[Bt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const Sn=ae.split("_");$=Sn.length>=2&&Sn[1]=="type"?$+(ae+"="+ce+"&"):$+(ae+"=redacted&")}}}else $=null;else $=P;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+$})}function vu(o,m,p,T,U,P,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+P+" "+$})}function Jn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uc(o,p)+(T?" "+T:"")})}function Pa(o,m){o.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Uc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return Fi(P)}catch{return m}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gs;function Ha(){}b(Ha,gu),Ha.prototype.g=function(){return new XMLHttpRequest},Gs=new Ha;function Si(o){return encodeURIComponent(String(o))}function Eu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function Un(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function $n(o,m,p){o.M=1,o.A=Ga(ve(m)),o.u=p,o.R=!0,Ir(o,null)}function Ir(o,m){o.F=Date.now(),Wn(o),o.B=ve(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),xr(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Ln,o.g=zu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ke(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ps[0]=U.toString()),U=Ps);for(let P=0;P<U.length;P++){const $=ie(p,U[P],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.J?N(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Xn(),zc(o.i,o.v,o.B,o.l,o.S,o.u)}Un.prototype.ba=function(o){o=o.target;const m=this.O;m&&jn(o)==3?m.j():this.Y(o)},Un.prototype.Y=function(o){try{if(o==this.g)t:{const Et=jn(this.g),ce=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Et!=4||ce==7||(ce==8||Bt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Lc(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(o=P)Jn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,o);else{this.o=!1,this.m=3,pe(12),on(this),En(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=Au(this,p),ae==Oe){Et==4&&(this.m=4,pe(14),o=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ye){this.m=4,pe(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Jn(this.i,this.l,ae,null),ei(this,ae);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),on(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),rl($),$.P=!0,pe(11))}}else Jn(this.i,this.l,p,null),ei(this,p);Et==4&&on(this),this.o&&!this.K&&(Et==4?Nu(this.j,this):(this.o=!1,Wn(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),on(this),En(this)}}}catch{}finally{}};function Lc(o){if(!Tu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=jn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return on(o),En(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(U&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function Tu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),o.C=T+p,m)))}Un.prototype.cancel=function(){this.K=!0,on(this)};function Wn(o){o.T=Date.now()+o.H,Nr(o,o.H)}function Nr(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Zn(_(o.aa,o),m)}function ti(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Un.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Pa(this.i,this.B),this.M!=2&&(Xn(),pe(17)),on(this),this.m=2,En(this)):Nr(this,this.T-o)};function En(o){o.j.I==0||o.K||Nu(o.j,o)}function on(o){ti(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,ks(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ei(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ii(p.h,o))){if(!o.L&&ii(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)qr(p),ta(p);else break t;Ja(p),pe(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else oi(p,11)}else if((o.L||p.g==o)&&qr(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const ae=Bt[0];if(!(ae<=p.K))if(p.K=ae,Bt=Bt[1],p.I==2)if(Bt[0]=="c"){p.M=Bt[1],p.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const ci=Bt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const Pn=Bt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=o.g;if(kn){const $a=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var P=T.h;P.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Ys(P,P.h),P.h=null))}if(T.G){const jr=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;jr&&(T.wa=jr,kt(T.J,T.G,jr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var $=o;if(T.na=xu(T,T.L?T.ba:null,T.W),$.L){Xs(T.h,$);var Et=$,ce=T.O;ce&&(Et.H=ce),Et.D&&(ti(Et),Wn(Et)),T.g=$}else Vu(T);p.i.length>0&&ui(p)}else Bt[0]!="stop"&&Bt[0]!="close"||oi(p,7);else p.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?oi(p,7):il(p):Bt[0]!="noop"&&p.l&&p.l.qa(Bt),p.A=0)}}Xn(4)}catch{}}var _e=class{constructor(o,m){this.g=o,this.map=m}};function Qs(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ni(o){return o.h?1:o.g?o.g.size:0}function ii(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ys(o,m){o.g?o.g.add(m):o.h=m}function Xs(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Qs.prototype.cancel=function(){if(this.i=Ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ks(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return j(o.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,P=null;T>=0?(U=o[p].substring(0,T),P=o[p].substring(T+1)):U=o[p],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof cn?(this.l=o.l,Me(this,o.j),this.o=o.o,this.g=o.g,Yi(this,o.u),this.h=o.h,Zs(this,wu(o.i)),this.m=o.m):o&&(m=String(o).match(Su))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Yi(this,m[4]),this.h=ai(m[5]||"",!0),Zs(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}cn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Qa(m,Mr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Qa(m,Mr,!0),"@"),o.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Qa(p,p.charAt(0)=="/"?Js:bu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Qa(p,Ru)),o.join("")},cn.prototype.resolve=function(o){const m=ve(this);let p=!!o.j;p?Me(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Yi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let $=0;$<U.length;){const Et=U[$++];Et=="."?T&&$==U.length&&P.push(""):Et==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&$==U.length&&P.push("")):(P.push(Et),T=!0)}T=P.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Zs(m,wu(o.i)):p=!!o.m,p&&(m.m=o.m),m};function ve(o){return new cn(o)}function Me(o,m,p){o.j=p?ai(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Yi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Zs(o,m,p){m instanceof Ki?(o.i=m,zr(o.i,o.l)):(p||(m=Qa(m,Xi)),o.i=new Ki(m,o.l))}function kt(o,m,p){o.i.set(m,p)}function Ga(o){return kt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ai(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Qa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,We),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function We(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Mr=/[#\/\?@]/g,bu=/[#\?:]/g,Js=/[#\?]/g,Xi=/[#\?@]/g,Ru=/#/g;function Ki(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function tn(o){o.g||(o.g=new Map,o.h=0,o.i&&Or(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Ki.prototype,s.add=function(o,m){tn(this),this.i=null,o=Zi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Cu(o,m){tn(o),m=Zi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function $s(o,m){return tn(o),m=Zi(o,m),o.g.has(m)}s.forEach=function(o,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Ws(o,m){tn(o);let p=[];if(typeof m=="string")$s(o,m)&&(p=p.concat(o.g.get(Zi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}s.set=function(o,m){return tn(this),this.i=null,o=Zi(this,o),$s(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=Ws(this,o),o.length>0?String(o[0]):m):m};function xr(o,m,p){Cu(o,m),p.length>0&&(o.i=null,o.g.set(Zi(o,m),j(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Si(p);p=Ws(this,p);for(let P=0;P<p.length;P++){let $=U;p[P]!==""&&($+="="+Si(p[P])),o.push($)}}return this.i=o.join("&")};function wu(o){const m=new Ki;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Zi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function zr(o,m){m&&!o.j&&(tn(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Cu(this,T),xr(this,U,p))},o)),o.j=m}function Bn(o,m){const p=new zn;if(d.Image){const T=new Image;T.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function tl(o,m){const p=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(U),P.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(p,"TestPingServer: error",!1,m)})}function Tn(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ji(){this.g=new mu}function ri(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ri,gu),ri.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(o,m){ge.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fa,ge),s=Fa.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},s.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ur(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ur(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}s.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?$i(this):qn(this),this.readyState==3&&Ur(this)}},s.Oa=function(o){this.g&&(this.response=this.responseText=o,$i(this))},s.Na=function(o){this.g&&(this.response=o,$i(this))},s.ga=function(){this.g&&$i(this)};function $i(o){o.readyState=4,o.l=null,o.j=null,o.B=null,qn(o)}s.setRequestHeader=function(o,m){this.A.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function An(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ya(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=An(p),typeof o=="string"?p!=null&&Si(p):kt(o,m,p))}function Ft(o){ge.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ft,ge);var si=/^https?$/i,el=["POST","PUT"];s=Ft.prototype,s.Fa=function(o){this.H=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gs.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){Xa(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,$]of p)this.g.setRequestHeader(P,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Xa(this,P)}};function Xa(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,nl(o),bi(o)}function nl(o){o.A||(o.A=!0,Ve(o,"complete"),Ve(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ve(this,"complete"),Ve(this,"abort"),bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},s.Xa=function(){Ka(this)};function Ka(o){if(o.h&&typeof h<"u"){if(o.v&&jn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ve(o,"readystatechange"),jn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let $=String(o.D).match(Su)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!si.test($?$.toLowerCase():"")}p=T}if(p)Ve(o,"complete"),Ve(o,"success");else{o.o=6;try{var U=jn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",nl(o)}}finally{bi(o)}}}}function bi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Ve(o,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(o){return o.g?o.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),xc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(o){const m={};o=(o.g&&jn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=Eu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[U]||[];m[U]=P,P.push(p)}Pt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Wi(o){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,o),this.Za=li("retryDelaySeedMs",1e4,o),this.Ta=li("forwardChannelMaxRetries",2,o),this.va=li("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Qs(o&&o.concurrentRequestLimit),this.Ba=new Ji,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Wi.prototype,s.ka=8,s.I=1,s.connect=function(o,m,p,T){pe(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),ui(this)};function il(o){if(Lr(o),o.I==3){var m=o.V++,p=ve(o.J);if(kt(p,"SID",o.M),kt(p,"RID",m),kt(p,"TYPE","terminate"),Za(o,p),m=new Un(o,o.j,m),m.M=2,m.A=Ga(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Mu(o)}function ta(o){o.g&&(rl(o),o.g.cancel(),o.g=null)}function Lr(o){ta(o),o.v&&(d.clearTimeout(o.v),o.v=null),qr(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ui(o){if(!Fs(o.h)&&!o.m){o.m=!0;var m=o.Ea;$t||S(),xt||($t(),xt=!0),D.add(m,o),o.D=0}}function Br(o,m){return ni(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Zn(_(o.Ea,o,m),Ou(o,o.D)),o.D++,!0)}s.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new Un(this,this.j,o);let P=this.o;if(this.U&&(P?(P=N(P),et(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Du(this,U,m),p=ve(this.J),kt(p,"RID",o),kt(p,"CVER",22),this.G&&kt(p,"X-HTTP-Session-Id",this.G),Za(this,p),P&&(this.R?m="headers="+Si(An(P))+"&"+m:this.u&&Ya(p,this.u,P)),Ys(this.h,U),this.Ra&&kt(p,"TYPE","init"),this.S?(kt(p,"$req",m),kt(p,"SID","null"),U.U=!0,$n(U,p,null)):$n(U,p,m),this.I=2}}else this.I==3&&(o?al(this,o):this.i.length==0||Fs(this.h)||al(this))};function al(o,m){var p;m?p=m.l:p=o.V++;const T=ve(o.J);kt(T,"SID",o.M),kt(T,"RID",p),kt(T,"AID",o.K),Za(o,T),o.u&&o.o&&Ya(T,o.u,o.o),p=new Un(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Du(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ys(o.h,p),$n(p,T,m)}function Za(o,m){o.H&&zt(o.H,function(p,T){kt(m,T,p)}),o.l&&zt({},function(p,T){kt(m,T,p)})}function Du(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let Et=-1;for(;;){const ce=["count="+p];Et==-1?p>0?(Et=U[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let Bt=!0;for(let ae=0;ae<p;ae++){var P=U[ae].g;const Sn=U[ae].map;if(P-=Et,P<0)Et=Math.max(0,U[ae].g-100),Bt=!1;else try{P="req"+P+"_"||"";try{var $=Sn instanceof Map?Sn:Object.entries(Sn);for(const[ci,Pn]of $){let kn=Pn;y(Pn)&&(kn=Fi(Pn)),ce.push(P+ci+"="+encodeURIComponent(kn))}}catch(ci){throw ce.push(P+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(Sn)}}if(Bt){$=ce.join("&");break t}}$=void 0}return o=o.i.splice(0,p),m.G=o,$}function Vu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;$t||S(),xt||($t(),xt=!0),D.add(m,o),o.A=0}}function Ja(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Zn(_(o.Da,o),Ou(o,o.A)),o.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Zn(_(this.Wa,this),o)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ta(this),Iu(this))};function rl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Iu(o){o.g=new Un(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ve(o.na);kt(m,"RID","rpc"),kt(m,"SID",o.M),kt(m,"AID",o.K),kt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&kt(m,"TO",o.ia),kt(m,"TYPE","xmlhttp"),Za(o,m),o.u&&o.o&&Ya(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ga(ve(m)),p.u=null,p.R=!0,Ir(p,o)}s.Va=function(){this.C!=null&&(this.C=null,ta(this),Ja(this),pe(19))};function qr(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Nu(o,m){var p=null;if(o.g==m){qr(o),rl(o),o.g=null;var T=2}else if(ii(o.h,m))p=m.G,Xs(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=Vr(),Ve(T,new Kn(T,p)),ui(o)}else Vu(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Br(o,m)||T==2&&Ja(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:oi(o,5);break;case 4:oi(o,10);break;case 3:oi(o,6);break;default:oi(o,2)}}}function Ou(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function oi(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Ga(T),U?Bn(T.toString(),p):tl(T.toString(),p)}else pe(2);o.I=0,o.l&&o.l.pa(m),Mu(o),Lr(o)}s.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Mu(o){if(o.I=0,o.ja=[],o.l){const m=Ks(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ja,m),Z(o.ja,o.i),o.h.i.length=0,j(o.i),o.i.length=0),o.l.oa()}}function xu(o,m,p){var T=p instanceof cn?ve(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new cn(null);T&&Me(P,T),m&&(P.g=m),U&&Yi(P,U),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&kt(T,p,m),kt(T,"VER",o.ka),Za(o,T),T}function zu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Ft(new ri({ab:p})):new Ft(o.ma),m.Fa(o.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ea(){}ea.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ge.call(this),this.g=new Wi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Ci(this)}b(Ze,ge),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){il(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Fi(o),o=p);m.i.push(new _e(m.Ya++,o)),m.I==3&&ui(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Ze.Z.N.call(this)};function Lu(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(Lu,Ue);function Bu(){vn.call(this),this.status=1}b(Bu,vn);function Ci(o){this.g=o}b(Ci,Uu),Ci.prototype.ra=function(){Ve(this.g,"a")},Ci.prototype.qa=function(o){Ve(this.g,new Lu(o))},Ci.prototype.pa=function(o){Ve(this.g,new Bu)},Ci.prototype.oa=function(){Ve(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,sv=function(){return new ea},rv=function(){return Vr()},av=oe,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Xo=ka,Hs.COMPLETE="complete",iv=Hs,pu.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Gl=pu,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,nv=Ft}).apply(typeof Ho<"u"?Ho:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",Hy="4.9.2";class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let Os="12.3.0";const Er=new K_("@firebase/firestore");function ps(){return Er.logLevel}function it(s,...e){if(Er.logLevel<=Mt.DEBUG){const i=e.map(Ed);Er.debug(`Firestore (${Os}): ${s}`,...i)}}function Hi(s,...e){if(Er.logLevel<=Mt.ERROR){const i=e.map(Ed);Er.error(`Firestore (${Os}): ${s}`,...i)}}function bs(s,...e){if(Er.logLevel<=Mt.WARN){const i=e.map(Ed);Er.warn(`Firestore (${Os}): ${s}`,...i)}}function Ed(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,lv(s,r,i)}function lv(s,e,i){let r=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Hi(r),new Error(r)}function jt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||lv(e,u,r)}function vt(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new uv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class dA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new dA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Y1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=pA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function Wf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const u=s.charAt(r),h=e.charAt(r);if(u!==h)return kf(u)===kf(h)?Dt(u,h):kf(u)?1:-1}return Dt(s.length,e.length)}const yA=55296,_A=57343;function kf(s){const e=s.charCodeAt(0);return e>=yA&&e<=_A}function Rs(s,e,i){return s.length===e.length&&s.every(((r,u)=>i(r,e[u])))}const Qy="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&mt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=gi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),u=gi.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class Jt extends gi{construct(e,i,r){return new Jt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends gi{construct(e,i,r){return new He(e,i,r)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new He([Qy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new nt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new nt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new nt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}function ov(s,e,i){if(!i)throw new nt(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function EA(s,e,i,r){if(e===!0&&r===!0)throw new nt(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Fy(s){if(!ct.isDocumentKey(s))throw new nt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Yy(s){if(ct.isDocumentKey(s))throw new nt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function mc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function pi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new nt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(s);throw new nt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ce(s,e){const i={typeString:s};return e&&(i.value=e),i}function uu(s,e){if(!cv(s))throw new nt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new nt(X.INVALID_ARGUMENT,i);return!0}const Xy=-62135596800,Ky=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Ky);return new ee(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xy)throw new nt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ce("string",ee._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ee(0,0))}static max(){return new yt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nu=-1;function TA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Va(u,ct.empty(),e)}function AA(s){return new Va(s.readTime,s.key,nu)}class Va{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Va(yt.min(),ct.empty(),nu)}static max(){return new Va(yt.max(),ct.empty(),nu)}}function SA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}const bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ms(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==bA)throw s;it("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,r)=>{i(e)}))}static reject(e){return new K(((i,r)=>{r(e)}))}static waitFor(e){return new K(((i,r)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>r(v)))})),d=!0,h===u&&i()}))}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next((u=>u?K.resolve(u):r()));return i}static forEach(e,i){const r=[];return e.forEach(((u,h)=>{r.push(i.call(this,u,h))})),this.waitFor(r)}static mapArray(e,i){return new K(((r,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new K(((r,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):r()};h()}))}}function CA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(s){return s.name==="IndexedDbTransactionError"}class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;const Ad=-1;function pc(s){return s==null}function ic(s){return s===0&&1/s==-1/0}function wA(s){return typeof s=="number"&&Number.isInteger(s)&&!ic(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const hv="";function DA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Zy(e)),e=VA(s.get(i),e);return Zy(e)}function VA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case hv:i+="";break;default:i+=h}}return i}function Zy(s){return s+hv+""}function Jy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function za(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function fv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class se{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Go(this.root,e,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Go(this.root,e,this.comparator,!0)}}class Go{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??ke.RED,this.left=u??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ke(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ne(He.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new dv("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const IA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(s){if(jt(!!s,39018),typeof s=="string"){let e=0;const i=IA.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Na(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}const mv="server_timestamp",gv="__type__",pv="__previous_value__",yv="__local_write_time__";function Sd(s){return(s?.mapValue?.fields||{})[gv]?.stringValue===mv}function yc(s){const e=s.mapValue.fields[pv];return Sd(e)?yc(e):e}function iu(s){const e=Ia(s.mapValue.fields[yv].timestampValue);return new ee(e.seconds,e.nanos)}class NA{constructor(e,i,r,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ac="(default)";class au{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const _v="__type__",OA="__max__",Qo={mapValue:{}},vv="__vector__",rc="value";function Oa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sd(s)?4:xA(s)?9007199254740991:MA(s)?10:11:mt(28295,{value:s})}function Ai(s,e){if(s===e)return!0;const i=Oa(s);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return iu(s).isEqual(iu(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ia(u.timestampValue),y=Ia(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,h){return Na(u.bytesValue).isEqual(Na(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),y=de(h.doubleValue);return d===y?ic(d)===ic(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return Rs(s.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Jy(d)!==Jy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ai(d[v],y[v])))return!1;return!0})(s,e);default:return mt(52216,{left:s})}}function ru(s,e){return(s.values||[]).find((i=>Ai(i,e)))!==void 0}function Cs(s,e){if(s===e)return 0;const i=Oa(s),r=Oa(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Wy(s.timestampValue,e.timestampValue);case 4:return Wy(iu(s),iu(e));case 5:return Wf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Na(h),v=Na(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Dt(de(h.latitude),de(d.latitude));return y!==0?y:Dt(de(h.longitude),de(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return t_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[rc]?.arrayValue,A=v[rc]?.arrayValue,b=Dt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:t_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qo.mapValue&&d===Qo.mapValue)return 0;if(h===Qo.mapValue)return 1;if(d===Qo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Wf(v[b],A[b]);if(x!==0)return x;const j=Cs(y[v[b]],_[A[b]]);if(j!==0)return j}return Dt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Wy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Ia(s),r=Ia(e),u=Dt(i.seconds,r.seconds);return u!==0?u:Dt(i.nanos,r.nanos)}function t_(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=Cs(i[u],r[u]);if(h)return h}return Dt(i.length,r.length)}function ws(s){return td(s)}function td(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ia(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Na(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=td(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${td(i.fields[d])}`;return u+"}"})(s.mapValue):mt(61005,{value:s})}function Ko(s){switch(Oa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(s);return e?16+Ko(e):16;case 5:return 2*s.stringValue.length;case 6:return Na(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Ko(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let u=0;return za(r.fields,((h,d)=>{u+=h.length+Ko(d)})),u})(s.mapValue);default:throw mt(13486,{value:s})}}function e_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ed(s){return!!s&&"integerValue"in s}function bd(s){return!!s&&"arrayValue"in s}function n_(s){return!!s&&"nullValue"in s}function i_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zo(s){return!!s&&"mapValue"in s}function MA(s){return(s?.mapValue?.fields||{})[_v]?.stringValue===vv}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return za(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(s.arrayValue.values[i]);return e}return{...s}}function xA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Zo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=He.emptyPath(),r={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=y.popLast()}d?r[y.lastSegment()]=Kl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){za(i,((u,h)=>e[u]=h));for(const u of r)delete e[u]}clone(){return new un(Kl(this.value))}}function Ev(s){const e=[];return za(s.fields,((i,r)=>{const u=new He([i]);if(Zo(r)){const h=Ev(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new _n(e)}class Xe{constructor(e,i,r,u,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),un.empty(),0)}static newFoundDocument(e,i,r,u){return new Xe(e,1,i,yt.min(),r,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sc{constructor(e,i){this.position=e,this.inclusive=i}}function a_(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Cs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function r_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ai(s.position[i],e.position[i]))return!1;return!0}class su{constructor(e,i="asc"){this.field=e,this.dir=i}}function zA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Tv{}class Re extends Tv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new LA(e,i,r):i==="array-contains"?new jA(e,r):i==="in"?new PA(e,r):i==="not-in"?new kA(e,r):i==="array-contains-any"?new HA(e,r):new Re(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new BA(e,r):new qA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cs(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return Av(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Av(s){return s.op==="and"}function Sv(s){return UA(s)&&Av(s)}function UA(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function nd(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+ws(s.value);if(Sv(s))return s.filters.map((e=>nd(e))).join(",");{const e=s.filters.map((i=>nd(i))).join(",");return`${s.op}(${e})`}}function bv(s,e){return s instanceof Re?(function(r,u){return u instanceof Re&&r.op===u.op&&r.field.isEqual(u.field)&&Ai(r.value,u.value)})(s,e):s instanceof Fn?(function(r,u){return u instanceof Fn&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&bv(d,u.filters[y])),!0):!1})(s,e):void mt(19439)}function Rv(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${ws(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rv).join(" ,")+"}"})(s):"Filter"}class LA extends Re{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class BA extends Re{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qA extends Re{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Cv(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class jA extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return bd(i)&&ru(i.arrayValue,this.value)}}class PA extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ru(this.value.arrayValue,i)}}class kA extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ru(this.value.arrayValue,i)}}class HA extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}class GA{constructor(e,i=null,r=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function s_(s,e=null,i=[],r=[],u=null,h=null,d=null){return new GA(s,e,i,r,u,h,d)}function Rd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>nd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ws(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ws(r))).join(",")),e.Te=i}return e.Te}function Cd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!zA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!bv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!r_(s.startAt,e.startAt)&&r_(s.endAt,e.endAt)}function id(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class zs{constructor(e,i=null,r=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QA(s,e,i,r,u,h,d,y){return new zs(s,e,i,r,u,h,d,y)}function wd(s){return new zs(s)}function l_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wv(s){return s.collectionGroup!==null}function Zl(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new su(h,r))})),i.has(He.keyField().canonicalString())||e.Ie.push(new su(He.keyField(),r))}return e.Ie}function yi(s){const e=vt(s);return e.Ee||(e.Ee=FA(e,Zl(s))),e.Ee}function FA(s,e){if(s.limitType==="F")return s_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new su(u.field,h)}));const i=s.endAt?new sc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new sc(s.startAt.position,s.startAt.inclusive):null;return s_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function ad(s,e){const i=s.filters.concat([e]);return new zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function rd(s,e,i){return new zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _c(s,e){return Cd(yi(s),yi(e))&&s.limitType===e.limitType}function Dv(s){return`${Rd(yi(s))}|lt:${s.limitType}`}function ys(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((u=>Rv(u))).join(", ")}]`),pc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((u=>ws(u))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((u=>ws(u))).join(",")),`Target(${r})`})(yi(s))}; limitType=${s.limitType})`}function vc(s,e){return e.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,u){for(const h of Zl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(s,e)&&(function(r,u){return!(r.startAt&&!(function(d,y,v){const _=a_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Zl(r),u)||r.endAt&&!(function(d,y,v){const _=a_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Zl(r),u))})(s,e)}function YA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Vv(s){return(e,i)=>{let r=!1;for(const u of Zl(s)){const h=XA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function XA(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Cs(v,_):mt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:s.dir})}}class Sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,((i,r)=>{for(const[u,h]of r)e(u,h)}))}isEmpty(){return fv(this.inner)}size(){return this.innerSize}}const KA=new se(ct.comparator);function Gi(){return KA}const Iv=new se(ct.comparator);function Ql(...s){let e=Iv;for(const i of s)e=e.insert(i.key,i);return e}function Nv(s){let e=Iv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function yr(){return Jl()}function Ov(){return Jl()}function Jl(){return new Sr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ZA=new se(ct.comparator),JA=new Ne(ct.comparator);function Vt(...s){let e=JA;for(const i of s)e=e.add(i);return e}const $A=new Ne(Dt);function WA(){return $A}function Dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function Mv(s){return{integerValue:""+s}}function tS(s,e){return wA(e)?Mv(e):Dd(s,e)}class Ec{constructor(){this._=void 0}}function eS(s,e,i){return s instanceof lc?(function(u,h){const d={fields:{[gv]:{stringValue:mv},[yv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Sd(h)&&(h=yc(h)),h&&(d.fields[pv]=h),{mapValue:d}})(i,e):s instanceof Ds?zv(s,e):s instanceof lu?Uv(s,e):(function(u,h){const d=xv(u,h),y=u_(d)+u_(u.Ae);return ed(d)&&ed(u.Ae)?Mv(y):Dd(u.serializer,y)})(s,e)}function nS(s,e,i){return s instanceof Ds?zv(s,e):s instanceof lu?Uv(s,e):i}function xv(s,e){return s instanceof uc?(function(r){return ed(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class lc extends Ec{}class Ds extends Ec{constructor(e){super(),this.elements=e}}function zv(s,e){const i=Lv(e);for(const r of s.elements)i.some((u=>Ai(u,r)))||i.push(r);return{arrayValue:{values:i}}}class lu extends Ec{constructor(e){super(),this.elements=e}}function Uv(s,e){let i=Lv(e);for(const r of s.elements)i=i.filter((u=>!Ai(u,r)));return{arrayValue:{values:i}}}class uc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u_(s){return de(s.integerValue||s.doubleValue)}function Lv(s){return bd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class iS{constructor(e,i){this.field=e,this.transform=i}}function aS(s,e){return s.field.isEqual(e.field)&&(function(r,u){return r instanceof Ds&&u instanceof Ds||r instanceof lu&&u instanceof lu?Rs(r.elements,u.elements,Ai):r instanceof uc&&u instanceof uc?Ai(r.Ae,u.Ae):r instanceof lc&&u instanceof lc})(s.transform,e.transform)}class rS{constructor(e,i){this.version=e,this.transformResults=i}}class Mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Tc{}function Bv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Vd(s.key,Mn.none()):new ou(s.key,s.data,Mn.none());{const i=s.data,r=un.empty();let u=new Ne(He.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Ua(s.key,r,new _n(u.toArray()),Mn.none())}}function sS(s,e,i){s instanceof ou?(function(u,h,d){const y=u.value.clone(),v=c_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ua?(function(u,h,d){if(!Jo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=c_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(qv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $l(s,e,i,r){return s instanceof ou?(function(h,d,y,v){if(!Jo(h.precondition,d))return y;const _=h.value.clone(),A=h_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ua?(function(h,d,y,v){if(!Jo(h.precondition,d))return y;const _=h_(h.fieldTransforms,v,d),A=d.data;return A.setAll(qv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(s,e,i,r):(function(h,d,y){return Jo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function lS(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=xv(r.transform,u||null);h!=null&&(i===null&&(i=un.empty()),i.set(r.field,h))}return i||null}function o_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&Rs(r,u,((h,d)=>aS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Tc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ua extends Tc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function c_(s,e,i){const r=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);r.set(h.field,nS(d,y,i[u]))}return r}function h_(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,eS(h,d,e))}return r}class Vd extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uS extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oS{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&sS(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=$l(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=$l(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Ov();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=Bv(d,y);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,((i,r)=>o_(i,r)))&&Rs(this.baseMutations,e.baseMutations,((i,r)=>o_(i,r)))}}class Id{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let u=(function(){return ZA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new Id(e,i,r,u)}}class cS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hS{constructor(e,i){this.count=e,this.unchangedNames=i}}var be,Ot;function fS(s){switch(s){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function jv(s){if(s===void 0)return Hi("GRPC error has no .code"),X.UNKNOWN;switch(s){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:s})}}(Ot=be||(be={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function dS(){return new TextEncoder}const mS=new wa([4294967295,4294967295],0);function f_(s){const e=dS().encode(s),i=new ev;return i.update(e),new Uint8Array(i.digest())}function d_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new wa([i,r],0),new wa([u,h],0)]}class Nd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wa.fromNumber(this.ge)}ye(e,i,r){let u=e.add(i.multiply(wa.fromNumber(r)));return u.compare(mS)===1&&(u=new wa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=f_(e),[r,u]=d_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Nd(h,u,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=f_(e),[r,u]=d_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ac(yt.min(),u,new se(Dt),Gi(),Vt())}}class cu{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new cu(r,i,Vt(),Vt(),Vt())}}class $o{constructor(e,i,r,u){this.be=e,this.removedTargetIds=i,this.key=r,this.De=u}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class kv{constructor(e,i,r=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class m_{constructor(){this.ve=0,this.Fe=g_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:mt(38017,{changeType:h})}})),new cu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=g_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=Fo(),this.He=Fo(),this.Ye=new se(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,r=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(id(h))if(r===0){const d=new ct(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else jt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Na(r).toUint8Array()}catch(v){if(v instanceof dv)return bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Nd(d,u,h)}catch(v){return bs(v instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&id(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Vt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Ac(e,i,this.Ye,this.je,r);return this.je=Gi(),this.Je=Fo(),this.He=Fo(),this.Ye=new se(Dt),u}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new m_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ne(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ne(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fo(){return new se(ct.comparator)}function g_(){return new se(ct.comparator)}const pS={asc:"ASCENDING",desc:"DESCENDING"},yS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_S={and:"AND",or:"OR"};class vS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(s,e){return s.useProto3Json||pc(e)?e:{value:e}}function oc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ES(s,e){return oc(s,e.toTimestamp())}function _i(s){return jt(!!s,49232),yt.fromTimestamp((function(i){const r=Ia(i);return new ee(r.seconds,r.nanos)})(s))}function Od(s,e){return ld(s,e).canonicalString()}function ld(s,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Gv(s){const e=Jt.fromString(s);return jt(Kv(e),10190,{key:e.toString()}),e}function ud(s,e){return Od(s.databaseId,e.path)}function Hf(s,e){const i=Gv(e);if(i.get(1)!==s.databaseId.projectId)throw new nt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Fv(i))}function Qv(s,e){return Od(s.databaseId,e)}function TS(s){const e=Gv(s);return e.length===4?Jt.emptyPath():Fv(e)}function od(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Fv(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function p_(s,e,i){return{name:ud(s,e),fields:i.value.mapValue.fields}}function AS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:jv(_.code);return new nt(A,_.message||"")})(d);i=new kv(r,u,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Hf(s,r.document.name),h=_i(r.document.updateTime),d=r.document.createTime?_i(r.document.createTime):yt.min(),y=new un({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(u,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new $o(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Hf(s,r.document),h=r.readTime?_i(r.readTime):yt.min(),d=Xe.newNoDocument(u,h),y=r.removedTargetIds||[];i=new $o([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Hf(s,r.document),h=r.removedTargetIds||[];i=new $o([],h,u,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new hS(u,h),y=r.targetId;i=new Pv(y,d)}}return i}function SS(s,e){let i;if(e instanceof ou)i={update:p_(s,e.key,e.value)};else if(e instanceof Vd)i={delete:ud(s,e.key)};else if(e instanceof Ua)i={update:p_(s,e.key,e.data),updateMask:OS(e.fieldMask)};else{if(!(e instanceof uS))return mt(16599,{Vt:e.type});i={verify:ud(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ds)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof uc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:ES(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(s,e.precondition)),i}function bS(s,e){return s&&s.length>0?(jt(e!==void 0,14353),s.map((i=>(function(u,h){let d=u.updateTime?_i(u.updateTime):_i(h);return d.isEqual(yt.min())&&(d=_i(h)),new rS(d,u.transformResults||[])})(i,e)))):[]}function RS(s,e){return{documents:[Qv(s,e.path)]}}function CS(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Qv(s,u);const h=(function(_){if(_.length!==0)return Xv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:_s(x.field),direction:VS(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=sd(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function wS(s){let e=TS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){jt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const x=Yv(b);return x instanceof Fn&&Sv(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new su(vs(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,pc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,j=b.values||[];return new sc(j,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,j=b.values||[];return new sc(j,x)})(i.endAt)),QA(e,u,d,h,y,"F",v,_)}function DS(s,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Yv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=vs(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=vs(i.unaryFilter.field);return Re.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vs(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(vs(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>Yv(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function VS(s){return pS[s]}function IS(s){return yS[s]}function NS(s){return _S[s]}function _s(s){return{fieldPath:s.canonicalString()}}function vs(s){return He.fromServerFormat(s.fieldPath)}function Xv(s){return s instanceof Re?(function(i){if(i.op==="=="){if(i_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NAN"}};if(n_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NAN"}};if(n_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(i.field),op:IS(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((u=>Xv(u)));return r.length===1?r[0]:{compositeFilter:{op:NS(i.op),filters:r}}})(s):mt(54877,{filter:s})}function OS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Kv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ba{constructor(e,i,r,u,h=yt.min(),d=yt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MS{constructor(e){this.yt=e}}function xS(s){const e=wS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rd(e,e.limit,"L"):e}class zS{constructor(){this.Cn=new US}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Va.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class US{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Ne(Jt.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Ne(Jt.comparator)).toArray()}}const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Zv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vs(0)}static cr(){return new Vs(-1)}}const __="LruGarbageCollector",LS=1048576;function v_([s,e],[i,r]){const u=Dt(s,i);return u===0?Dt(e,r):u}class BS{constructor(e){this.Ir=e,this.buffer=new Ne(v_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?it(__,"Ignoring IndexedDB error during garbage collection: ",i):await Ms(i)}await this.Vr(3e5)}))}}class jS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(gc.ce);const r=new BS(i);return this.mr.forEachTarget(e,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(y_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(r=b,y=Date.now(),this.removeTargets(e,r,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(_=Date.now(),ps()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b}))))}}function PS(s,e){return new jS(s,e)}class kS{constructor(){this.changes=new Sr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class GS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(r=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(r!==null&&$l(r.mutation,u,_n.empty(),ee.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const u=yr();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,r).next((h=>{let d=Ql();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=yr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const u=[];return r.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,u){let h=Gi();const d=Jl(),y=(function(){return Jl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ua)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),$l(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new HS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Jl();let u=new se(((d,y)=>d-y)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||_n.empty();A=y.applyToLocalView(_,A),r.set(v,A);const b=(u.get(y.batchId)||Vt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=Ov();A.forEach((x=>{if(!h.has(x)){const j=Bv(i.get(x),r.get(x));j!==null&&b.set(x,j),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):K.resolve(yr());let y=nu,v=h;return d.next((_=>K.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:y,changes:Nv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let u=Ql();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(b,x){return new zs(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Ql();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&$l(A.mutation,_,_n.empty(),ee.now()),vc(i,_)&&(y=y.insert(v,_))})),y}))}}class QS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:xS(u.bundledQuery),readTime:_i(u.readTime)}})(i)),K.resolve()}}class FS{constructor(){this.overlays=new se(ct.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=yr();return K.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((u,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const u=yr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new se(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=yr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=yr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return K.resolve(y)}St(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new cS(i,r));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class YS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}class Md{constructor(){this.Qr=new Ne(ze.$r),this.Ur=new Ne(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new ze(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ct(new Jt([])),r=new ze(i,e),u=new ze(i,e+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),r=new ze(i,e),u=new ze(i,e+1);let h=Vt();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class XS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(ze.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oS(h,i,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ei(r),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Ad:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ne(Dt);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ct(h),0);let y=new Ne(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const u=this.Xr(r);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new ze(i,0),u=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class KS{constructor(e){this.ri=e,this.docs=(function(){return new se(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Gi();return i.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Gi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||SA(AA(A),r)<=0||(u.has(A.key)||vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,u){mt(9500)}ii(e,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new ZS(this)}getSize(e){return K.resolve(this.size)}}class ZS extends kS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class JS{constructor(e){this.persistence=e,this.si=new Sr((i=>Rd(i)),Cd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Md,this.targetCount=0,this.ai=Vs.ur()}forEachTarget(e,i){return this.si.forEach(((r,u)=>i(u))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),K.waitFor(h).next((()=>u))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}class Jv{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new YS,this.referenceDelegate=e(this),this.Pi=new JS(this),this.indexManager=new zS,this.remoteDocumentCache=(function(u){return new KS(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MS(i),this.Ii=new QS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new XS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new $S(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class $S extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Md,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const u=ct.fromPath(r);return this.gi(e,u).next((h=>{h||i.removeEntry(u,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.pi=new Sr((r=>DA(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=PS(this,i)}static mi(e,i){return new cc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((u=>r+u))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((r,u)=>this.br(e,r,u).next((h=>h?K.resolve():i(u)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ko(e.data.value)),i}br(e,i,r){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return K.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=u}static As(e,i){let r=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new zd(e,i.fromCache,r,u)}}class WS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GT()?8:CA(kT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new WS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,u){return r.documentReadCount<this.fs?(ps()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ys(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(ps()<=Mt.DEBUG&&it("QueryEngine","Query:",ys(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(ps()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ys(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):K.resolve())}ys(e,i){if(l_(i))return K.resolve(null);let r=yi(i);return this.indexManager.getIndexType(e,r).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=rd(i,null,"F"),r=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,rd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,u){return l_(i)||u.isEqual(yt.min())?K.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,u)?K.resolve(null):(ps()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ys(i)),this.vs(e,d,i,TA(u,nu)).next((y=>y)))}))}Ds(e,i){let r=new Ne(Vv(e));return i.forEach(((u,h)=>{vc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,r){return ps()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ys(i)),this.ps.getDocumentsMatchingQuery(e,i,Va.min(),r)}vs(e,i,r,u){return this.ps.getDocumentsMatchingQuery(e,r,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ud="LocalStore",eb=3e8;class nb{constructor(e,i,r,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new se(Dt),this.xs=new Sr((h=>Rd(h)),Cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ib(s,e,i,r){return new nb(s,e,i,r)}async function $v(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function ab(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,x=b.keys();let j=K.resolve();return x.forEach((Z=>{j=j.next((()=>A.getEntry(v,Z))).next((W=>{const J=_.docVersions.get(Z);jt(J!==null,48541),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),j.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,u)))}))}function Wv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function rb(s,e){const i=vt(s),r=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const x=u.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let j=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),u=u.insert(b,j),(function(W,J,ut){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=eb?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(x,j,A)&&y.push(i.Pi.updateTargetData(h,j))}));let v=Gi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(sb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function sb(s,e,i){let r=Vt(),u=Vt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Gi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Ud,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function lb(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ub(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return i.Pi.getTargetData(r,e).next((h=>h?(u=h,K.resolve(u)):i.Pi.allocateTargetId(r).next((d=>(u=new ba(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=i.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function cd(s,e,i){const r=vt(s),u=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!xs(d))throw d;it(Ud,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(u.target)}function E_(s,e,i){const r=vt(s);let u=yt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=vt(v),x=b.xs.get(A);return x!==void 0?K.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(r,d,yi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Vt()))).next((y=>(ob(r,YA(e),y),{documents:y,Qs:h})))))}function ob(s,e,i){let r=s.Os.get(e)||yt.min();i.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class T_{constructor(){this.activeTargetIds=WA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cb{constructor(){this.Mo=new T_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hb{Oo(e){}shutdown(){}}const A_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(A_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yo=null;function hd(){return Yo===null?Yo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yo++,"0x"+Yo.toString(16)}const Gf="RestConnection",fb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class db{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===ac?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(e,i,r,u,h){const d=hd(),y=this.zo(e,i.toUriEncodedString());it(Gf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=_d(_);return this.Jo(e,y,v,r,A).then((b=>(it(Gf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw bs(Gf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",r),b}))}Ho(e,i,r,u,h,d){return this.Go(e,i,r,u,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Os})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),r&&r.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const r=fb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class mb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fe="WebChannelConnection";class gb extends db{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=hd();return new Promise(((y,v)=>{const _=new nv;_.setWithCredentials(!0),_.listenOnce(iv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xo.NO_ERROR:const b=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Xo.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new nt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Xo.HTTP_ERROR:const x=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j?.error;if(Z&&Z.status&&Z.message){const W=(function(ut){const gt=ut.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})(Z.status);v(new nt(W,Z.message))}else v(new nt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Fe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const u=hd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=sv(),y=rv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Fe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let x=!1,j=!1;const Z=new mb({Yo:J=>{j?it(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(x||(it(Fe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),x=!0),it(Fe,`RPC '${e}' stream ${u} sending:`,J),b.send(J))},Zo:()=>b.close()}),W=(J,ut,gt)=>{J.listen(ut,(dt=>{try{gt(dt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return W(b,Gl.EventType.OPEN,(()=>{j||(it(Fe,`RPC '${e}' stream ${u} transport opened.`),Z.o_())})),W(b,Gl.EventType.CLOSE,(()=>{j||(j=!0,it(Fe,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(b))})),W(b,Gl.EventType.ERROR,(J=>{j||(j=!0,bs(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new nt(X.UNAVAILABLE,"The operation could not be completed")))})),W(b,Gl.EventType.MESSAGE,(J=>{if(!j){const ut=J.data[0];jt(!!ut,16349);const gt=ut,dt=gt?.error||gt[0]?.error;if(dt){it(Fe,`RPC '${e}' stream ${u} received error:`,dt);const Qt=dt.status;let $t=(function(S){const w=be[S];if(w!==void 0)return jv(w)})(Qt),xt=dt.message;$t===void 0&&($t=X.INTERNAL,xt="Unknown error status: "+Qt+" with message "+dt.message),j=!0,Z.a_(new nt($t,xt)),b.close()}else it(Fe,`RPC '${e}' stream ${u} received:`,ut),Z.u_(ut)}})),W(y,av.STAT_EVENT,(J=>{J.stat===$f.PROXY?it(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===$f.NOPROXY&&it(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qf(){return typeof document<"u"?document:null}function Sc(s){return new vS(s,!0)}class t0{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const b_="PersistentStream";class e0{constructor(e,i,r,u,h,d,y,v){this.Mi=e,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===i&&this.G_(r,u)}),(r=>{e((()=>{const u=new nt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pb extends e0{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=AS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?_i(d.readTime):yt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=od(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=id(v)?{documents:RS(h,v)}:{query:CS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Hv(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=oc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=DS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=od(this.serializer),i.removeTarget=e,this.q_(i)}}class yb extends e0{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bS(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=od(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>SS(this.serializer,r)))};this.q_(i)}}class _b{}class vb extends _b{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new nt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ld(i,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(X.UNKNOWN,h.toString())}))}Ho(e,i,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,ld(i,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Eb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Tr="RemoteStore";class Tb{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{br(this)&&(it(Tr,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await hu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await bc(_)})(this))}))})),this.Ra=new Eb(r,u)}}async function bc(s){if(br(s))for(const e of s.da)await e(!0)}async function hu(s){for(const e of s.da)await e(!1)}function n0(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jd(i)?qd(i):Us(i).O_()&&Bd(i,e))}function Ld(s,e){const i=vt(s),r=Us(i);i.Ia.delete(e),r.O_()&&i0(i,e),i.Ia.size===0&&(r.O_()?r.L_():br(i)&&i.Ra.set("Unknown"))}function Bd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Us(s).Y_(e)}function i0(s,e){s.Va.Ue(e),Us(s).Z_(e)}function qd(s){s.Va=new gS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Us(s).start(),s.Ra.ua()}function jd(s){return br(s)&&!Us(s).x_()&&s.Ia.size>0}function br(s){return vt(s).Ea.size===0}function a0(s){s.Va=void 0}async function Ab(s){s.Ra.set("Online")}async function Sb(s){s.Ia.forEach(((e,i)=>{Bd(s,e)}))}async function bb(s,e){a0(s),jd(s)?(s.Ra.ha(e),qd(s)):s.Ra.set("Unknown")}async function Rb(s,e,i){if(s.Ra.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(s,e)}catch(r){it(Tr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hc(s,r)}else if(e instanceof $o?s.Va.Ze(e):e instanceof Pv?s.Va.st(e):s.Va.tt(e),!i.isEqual(yt.min()))try{const r=await Wv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),i0(h,v);const b=new ba(A.target,v,_,A.sequenceNumber);Bd(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){it(Tr,"Failed to raise snapshot:",r),await hc(s,r)}}async function hc(s,e,i){if(!xs(e))throw e;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),i||(i=()=>Wv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Tr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await bc(s)}))}function r0(s,e){return e().catch((i=>hc(s,i,e)))}async function Rc(s){const e=vt(s),i=Ma(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;Cb(e);)try{const u=await lb(e.localStore,r);if(u===null){e.Ta.length===0&&i.L_();break}r=u.batchId,wb(e,u)}catch(u){await hc(e,u)}s0(e)&&l0(e)}function Cb(s){return br(s)&&s.Ta.length<10}function wb(s,e){s.Ta.push(e);const i=Ma(s);i.O_()&&i.X_&&i.ea(e.mutations)}function s0(s){return br(s)&&!Ma(s).x_()&&s.Ta.length>0}function l0(s){Ma(s).start()}async function Db(s){Ma(s).ra()}async function Vb(s){const e=Ma(s);for(const i of s.Ta)e.ea(i.mutations)}async function Ib(s,e,i){const r=s.Ta.shift(),u=Id.from(r,e,i);await r0(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await Rc(s)}async function Nb(s,e){e&&Ma(s).X_&&await(async function(r,u){if((function(d){return fS(d)&&d!==X.ABORTED})(u.code)){const h=r.Ta.shift();Ma(r).B_(),await r0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Rc(r)}})(s,e),s0(s)&&l0(s)}async function R_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(Tr,"RemoteStore received new credentials");const r=br(i);i.Ea.add(3),await hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bc(i)}async function Ob(s,e){const i=vt(s);e?(i.Ea.delete(2),await bc(i)):e||(i.Ea.add(2),await hu(i),i.Ra.set("Unknown"))}function Us(s){return s.ma||(s.ma=(function(i,r,u){const h=vt(i);return h.sa(),new pb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:Ab.bind(null,s),t_:Sb.bind(null,s),r_:bb.bind(null,s),H_:Rb.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),jd(s)?qd(s):s.Ra.set("Unknown")):(await s.ma.stop(),a0(s))}))),s.ma}function Ma(s){return s.fa||(s.fa=(function(i,r,u){const h=vt(i);return h.sa(),new yb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Db.bind(null,s),r_:Nb.bind(null,s),ta:Vb.bind(null,s),na:Ib.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Tr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Pd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,y=new Pd(e,i,d,u,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(s,e){if(Hi("AsyncQueue",`${e}: ${s}`),xs(s))return new nt(X.UNAVAILABLE,`${e}: ${s}`);throw s}class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new As;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class C_{constructor(){this.ga=new se(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Is{constructor(e,i,r,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Is(e,i,As.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}class Mb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xb{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const u=vt(i),h=u.queries;u.queries=w_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new nt(X.ABORTED,"Firestore shutting down"))}}function w_(){return new Sr((s=>Dv(s)),_c)}async function zb(s,e){const i=vt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(r=2):(h=new Mb,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=kd(d,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Hd(i)}async function Ub(s,e){const i=vt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Lb(s,e){const i=vt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&Hd(i)}function Bb(s,e,i){const r=vt(s),u=r.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);r.queries.delete(e)}function Hd(s){s.Ca.forEach((e=>{e.next()}))}var fd,D_;(D_=fd||(fd={})).Ma="default",D_.Cache="cache";class qb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fd.Cache}}class u0{constructor(e){this.key=e}}class o0{constructor(e){this.key=e}}class jb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=Vv(e),this.tu=new As(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new C_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,b)=>{const x=u.get(A),j=vc(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;x&&j?x.data.isEqual(j.data)?Z!==W&&(r.track({type:3,doc:j}),J=!0):this.su(x,j)||(r.track({type:2,doc:j}),J=!0,(v&&this.eu(j,v)>0||_&&this.eu(j,_)<0)&&(y=!0)):!x&&j?(r.track({type:0,doc:j}),J=!0):x&&!j&&(r.track({type:1,doc:x}),J=!0,(v||_)&&(y=!0)),J&&(j?(d=d.add(j),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(j,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return W(j)-W(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Is(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new o0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new u0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gd="SyncEngine";class Pb{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class kb{constructor(e){this.key=e,this.hu=!1}}class Hb{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sr((y=>Dv(y)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new se(ct.comparator),this.Au=new Map,this.Ru=new Md,this.Vu={},this.mu=new Map,this.fu=Vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Gb(s,e,i=!0){const r=g0(s);let u;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await c0(r,e,i,!0),u}async function Qb(s,e){const i=g0(s);await c0(i,e,!0,!1)}async function c0(s,e,i,r){const u=await ub(s.localStore,yi(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await Fb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&n0(s.remoteStore,u),y}async function Fb(s,e,i,r,u){s.pu=(b,x,j)=>(async function(W,J,ut,gt){let dt=J.view.ru(ut);dt.Cs&&(dt=await E_(W.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,dt))));const Qt=gt&&gt.targetChanges.get(J.targetId),$t=gt&&gt.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(dt,W.isPrimaryClient,Qt,$t);return I_(W,J.targetId,xt.au),xt.snapshot})(s,b,x,j);const h=await E_(s.localStore,e,!0),d=new jb(e,h.Qs),y=d.ru(h.documents),v=cu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(y,s.isPrimaryClient,v);I_(s,i,_.au);const A=new Pb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function Yb(s,e,i){const r=vt(s),u=r.Tu.get(e),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!_c(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await cd(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Ld(r.remoteStore,u.targetId),dd(r,u.targetId)})).catch(Ms)):(dd(r,u.targetId),await cd(r.localStore,u.targetId,!0))}async function Xb(s,e){const i=vt(s),r=i.Tu.get(e),u=i.Iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function Kb(s,e,i){const r=n2(s);try{const u=await(function(d,y){const v=vt(d),_=ee.now(),A=y.reduce(((j,Z)=>j.add(Z.key)),Vt());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Z=Gi(),W=Vt();return v.Ns.getEntries(j,A).next((J=>{Z=J,Z.forEach(((ut,gt)=>{gt.isValidDocument()||(W=W.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,Z))).next((J=>{b=J;const ut=[];for(const gt of y){const dt=lS(gt,b.get(gt.key).overlayedDocument);dt!=null&&ut.push(new Ua(gt.key,dt,Ev(dt.value.mapValue),Mn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,ut,y)})).next((J=>{x=J;const ut=J.applyToLocalDocumentSet(b,W);return v.documentOverlayCache.saveOverlays(j,J.batchId,ut)}))})).then((()=>({batchId:x.batchId,changes:Nv(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new se(Dt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,u.batchId,i),await fu(r,u.changes),await Rc(r.remoteStore)}catch(u){const h=kd(u,"Failed to persist write");i.reject(h)}}async function h0(s,e){const i=vt(s);try{const r=await rb(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?jt(d.hu,14607):u.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await fu(i,r,e)}catch(r){await Ms(r)}}function V_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&Hd(v)})(r.eventManager,e),u.length&&r.Pu.H_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zb(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Au.get(e),h=u&&u.key;if(h){let d=new se(ct.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const y=Vt().add(h),v=new Ac(yt.min(),new Map,new se(Dt),d,y);await h0(r,v),r.du=r.du.remove(h),r.Au.delete(e),Qd(r)}else await cd(r.localStore,e,!1).then((()=>dd(r,e,i))).catch(Ms)}async function Jb(s,e){const i=vt(s),r=e.batch.batchId;try{const u=await ab(i.localStore,e);d0(i,r,null),f0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fu(i,u)}catch(u){await Ms(u)}}async function $b(s,e,i){const r=vt(s);try{const u=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(jt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);d0(r,e,i),f0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fu(r,u)}catch(u){await Ms(u)}}function f0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function d0(s,e,i){const r=vt(s);let u=r.Vu[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Vu[r.currentUser.toKey()]=u}}function dd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||m0(s,r)}))}function m0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Ld(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Qd(s))}function I_(s,e,i){for(const r of i)r instanceof u0?(s.Ru.addReference(r.key,e),Wb(s,r)):r instanceof o0?(it(Gd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||m0(s,r.key)):mt(19791,{wu:r})}function Wb(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(it(Gd,"New document in limbo: "+i),s.Eu.add(r),Qd(s))}function Qd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(Jt.fromString(e)),r=s.fu.next();s.Au.set(r,new kb(i)),s.du=s.du.insert(i,r),n0(s.remoteStore,new ba(yi(wd(i.path)),r,"TargetPurposeLimboResolution",gc.ce))}}async function fu(s,e,i){const r=vt(s),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=zd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(x=>K.forEach(x.Es,(j=>A.persistence.referenceDelegate.addReference(b,x.targetId,j))).next((()=>K.forEach(x.ds,(j=>A.persistence.referenceDelegate.removeReference(b,x.targetId,j)))))))))}catch(b){if(!xs(b))throw b;it(Ud,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const j=A.Ms.get(x),Z=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(x,W)}}})(r.localStore,h))}async function t2(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(Gd,"User change. New user:",e.toKey());const r=await $v(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new nt(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(i,r.Ls)}}function e2(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let u=Vt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function g0(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,e),e.Pu.H_=Lb.bind(null,e.eventManager),e.Pu.yu=Bb.bind(null,e.eventManager),e}function n2(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$b.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ib(this.persistence,new tb,e.initialUser,this.serializer)}Cu(e){return new Jv(xd.mi,this.serializer)}Du(e){return new cb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class i2 extends fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof cc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Jv((r=>cc.mi(r,i)),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),await Ob(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xb})()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),r=(function(h){return new gb(h)})(e.databaseInfo);return(function(h,d,y,v){return new vb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,u,h,d,y){return new Tb(r,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>V_(this.syncEngine,i,0)),(function(){return S_.v()?new S_:new hb})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const b=new Hb(u,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=vt(i);it(Tr,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}md.provider={build:()=>new md};class a2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const xa="FirestoreClient";class r2{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=kd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ff(s,e){s.asyncQueue.verifyOperationInProgress(),it(xa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async u=>{r.isEqual(u)||(await $v(e.localStore,u),r=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function N_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await s2(s);it(xa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>R_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,u)=>R_(e.remoteStore,u))),s._onlineComponents=e}async function s2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(xa,"Using user provided OfflineComponentProvider");try{await Ff(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await Ff(s,new fc)}}else it(xa,"Using default OfflineComponentProvider"),await Ff(s,new i2(void 0));return s._offlineComponents}async function p0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(xa,"Using user provided OnlineComponentProvider"),await N_(s,s._uninitializedComponentsProvider._online)):(it(xa,"Using default OnlineComponentProvider"),await N_(s,new md))),s._onlineComponents}function l2(s){return p0(s).then((e=>e.syncEngine))}async function O_(s){const e=await p0(s),i=e.eventManager;return i.onListen=Gb.bind(null,e.syncEngine),i.onUnlisten=Yb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Qb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Xb.bind(null,e.syncEngine),i}function y0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const M_=new Map;const _0="firestore.googleapis.com",x_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LS)throw new nt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M_.get(i);r&&(it("ComponentProvider","Removing Datastore"),M_.delete(i),r.terminate())})(this),Promise.resolve()}}function u2(s,e,i,r={}){s=pi(s,Cc);const u=_d(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;u&&(LT(`https://${y}`),PT("Firestore",!0)),h.host!==_0&&h.host!==y&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:r};if(!Wl(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ye.MOCK_USER;else{_=BT(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new nt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}s._authCredentials=new hA(new uv(_,A))}}class Rr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class me{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new me(this.firestore,e,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(uu(i,me._jsonSchema))return new me(e,r||null,new ct(Jt.fromString(i.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Ce("string",me._jsonSchemaVersion),referencePath:Ce("string")};class Da extends Rr{constructor(e,i,r){super(e,i,wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new me(this.firestore,null,new ct(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function U_(s,e,...i){if(s=Ti(s),ov("collection","path",e),s instanceof Cc){const r=Jt.fromString(e,...i);return Yy(r),new Da(s,null,r)}{if(!(s instanceof me||s instanceof Da))throw new nt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return Yy(r),new Da(s.firestore,null,r)}}function Es(s,e,...i){if(s=Ti(s),arguments.length===1&&(e=Td.newId()),ov("doc","path",e),s instanceof Cc){const r=Jt.fromString(e,...i);return Fy(r),new me(s,null,new ct(r))}{if(!(s instanceof me||s instanceof Da))throw new nt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return Fy(r),new me(s.firestore,s instanceof Da?s.converter:null,new ct(r))}}const L_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const r=Qf();r&&it(L_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xs(e))throw e;it(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Pd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&mt(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function j_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of r)if(h in u&&typeof u[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Ar extends Cc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function o2(s,e){const i=typeof s=="object"?s:J1(),r=typeof s=="string"?s:ac,u=F1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=zT("firestore");h&&u2(u,...h)}return u}function v0(s){if(s._terminated)throw new nt(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||c2(s),s._firestoreClient}function c2(s){const e=s._freezeSettings(),i=(function(u,h,d,y){return new NA(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new r2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ge.fromBase64String(e))}catch(i){throw new nt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),bytes:Ce("string")};class wc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dc{constructor(e){this._methodName=e}}class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(uu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ce("string",vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new nt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Ce("string",Ei._jsonSchemaVersion),vectorValues:Ce("object")};const h2=/^__.*__$/;class f2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class E0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function T0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Vc{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T0(this.Ac)&&h2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Sc(e)}Cc(e,i,r,u=!1){return new Vc({Ac:e,methodName:i,Dc:r,path:He.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ic(s){const e=s._freezeSettings(),i=Sc(s._databaseId);return new d2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function A0(s,e,i,r,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);Yd("Data must be an object, but it was:",d,r);const y=S0(r,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const x=gd(e,b,i);if(!d.contains(x))throw new nt(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);R0(A,x)||A.push(x)}v=new _n(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new f2(new un(y),v,_)}class Nc extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}function m2(s,e,i){return new Vc({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fd extends Dc{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=m2(this,e,!0),r=this.vc.map((h=>Ls(h,i))),u=new Ds(r);return new iS(e.path,u)}isEqual(e){return e instanceof Fd&&Wl(this.vc,e.vc)}}function g2(s,e,i,r){const u=s.Cc(1,e,i);Yd("Data must be an object, but it was:",u,r);const h=[],d=un.empty();za(r,((v,_)=>{const A=Xd(e,v,i);_=Ti(_);const b=u.yc(A);if(_ instanceof Nc)h.push(A);else{const x=Ls(_,b);x!=null&&(h.push(A),d.set(A,x))}}));const y=new _n(h);return new E0(d,y,u.fieldTransforms)}function p2(s,e,i,r,u,h){const d=s.Cc(1,e,i),y=[gd(e,r,i)],v=[u];if(h.length%2!=0)throw new nt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)y.push(gd(e,h[x])),v.push(h[x+1]);const _=[],A=un.empty();for(let x=y.length-1;x>=0;--x)if(!R0(_,y[x])){const j=y[x];let Z=v[x];Z=Ti(Z);const W=d.yc(j);if(Z instanceof Nc)_.push(j);else{const J=Ls(Z,W);J!=null&&(_.push(j),A.set(j,J))}}const b=new _n(_);return new E0(A,b,d.fieldTransforms)}function y2(s,e,i,r=!1){return Ls(i,s.Cc(r?4:3,e))}function Ls(s,e){if(b0(s=Ti(s)))return Yd("Unsupported field value:",e,s),S0(s,e);if(s instanceof Dc)return(function(r,u){if(!T0(u.Ac))throw u.Sc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,u){const h=[];let d=0;for(const y of r){let v=Ls(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,u){if((r=Ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tS(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ee.fromDate(r);return{timestampValue:oc(u.serializer,h)}}if(r instanceof ee){const h=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(u.serializer,h)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:Hv(u.serializer,r._byteString)};if(r instanceof me){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof Ei)return(function(d,y){return{mapValue:{fields:{[_v]:{stringValue:vv},[rc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Dd(y.serializer,_)}))}}}}}})(r,u);throw u.Sc(`Unsupported field value: ${mc(r)}`)})(s,e)}function S0(s,e){const i={};return fv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(s,((r,u)=>{const h=Ls(u,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function b0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof vi||s instanceof On||s instanceof me||s instanceof Dc||s instanceof Ei)}function Yd(s,e,i){if(!b0(i)||!cv(i)){const r=mc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function gd(s,e,i){if((e=Ti(e))instanceof wc)return e._internalPath;if(typeof e=="string")return Xd(s,e);throw dc("Field path arguments must be of type string or ",s,!1,void 0,i)}const _2=new RegExp("[~\\*/\\[\\]]");function Xd(s,e,i){if(e.search(_2)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dc(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new nt(X.INVALID_ARGUMENT,y+s+v)}function R0(s,e){return s.some((i=>i.isEqual(e)))}class C0{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class v2 extends C0{data(){return super.data()}}function Kd(s,e){return typeof e=="string"?Xd(s,e):e instanceof wc?e._internalPath:e._delegate._internalPath}function E2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zd{}class w0 extends Zd{}function T2(s,e,...i){let r=[];e instanceof Zd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof $d)).length,y=h.filter((v=>v instanceof Jd)).length;if(d>1||d>0&&y>0)throw new nt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const u of r)s=u._apply(s);return s}class Jd extends w0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Jd(e,i,r)}_apply(e){const i=this._parse(e);return D0(e._query,i),new Rr(e.firestore,e.converter,ad(e._query,i))}_parse(e){const i=Ic(e.firestore);return(function(h,d,y,v,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){k_(b,A);const Z=[];for(const W of b)Z.push(P_(v,h,W));x={arrayValue:{values:Z}}}else x=P_(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||k_(b,A),x=y2(y,d,b,A==="in"||A==="not-in");return Re.create(_,A,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends Zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $d(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)D0(d,v),d=ad(d,v)})(e._query,i),new Rr(e.firestore,e.converter,ad(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wd extends w0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Wd(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new nt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new nt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(h,d)})(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new zs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function A2(s,e="asc"){const i=e,r=Kd("orderBy",s);return Wd._create(r,i)}function P_(s,e,i){if(typeof(i=Ti(i))=="string"){if(i==="")throw new nt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(e)&&i.indexOf("/")!==-1)throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Jt.fromString(i));if(!ct.isDocumentKey(r))throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e_(s,new ct(r))}if(i instanceof me)return e_(s,i._key);throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function k_(s,e){if(!Array.isArray(s)||s.length===0)throw new nt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D0(s,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class S2{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return za(e,((u,h)=>{r[u]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[rc].arrayValue?.values?.map((r=>de(r.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=yc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Jt.fromString(e);jt(Kv(r),9688,{name:e});const u=new au(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return u.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function V0(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vr extends C0{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Kd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",vr._jsonSchema={type:Ce("string",vr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Wo extends vr{data(e={}){return super.data(e)}}class Ss{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Yl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Wo(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Wo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Yl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Wo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Yl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:b2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function b2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:Ce("string",Ss._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class I0 extends S2{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new me(this.firestore,null,i)}}function H_(s,e,i){s=pi(s,me);const r=pi(s.firestore,Ar),u=V0(s.converter,e,i);return Oc(r,[A0(Ic(r),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,Mn.none())])}function R2(s,e,i,...r){s=pi(s,me);const u=pi(s.firestore,Ar),h=Ic(u);let d;return d=typeof(e=Ti(e))=="string"||e instanceof wc?p2(h,"updateDoc",s._key,e,i,r):g2(h,"updateDoc",s._key,e),Oc(u,[d.toMutation(s._key,Mn.exists(!0))])}function C2(s){return Oc(pi(s.firestore,Ar),[new Vd(s._key,Mn.none())])}function w2(s,e){const i=pi(s.firestore,Ar),r=Es(s),u=V0(s.converter,e);return Oc(i,[A0(Ic(s.firestore),"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then((()=>r))}function G_(s,...e){s=Ti(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||j_(e[r])||(i=e[r++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof me)d=pi(s.firestore,Ar),y=wd(s._key.path),h={next:v=>{e[r]&&e[r](D2(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=pi(s,Rr);d=pi(v.firestore,Ar),y=v._query;const _=new I0(d);h={next:A=>{e[r]&&e[r](new Ss(d,_,v,A))},error:e[r+1],complete:e[r+2]},E2(s._query)}return(function(_,A,b,x){const j=new a2(x),Z=new qb(A,j,b);return _.asyncQueue.enqueueAndForget((async()=>zb(await O_(_),Z))),()=>{j.Nu(),_.asyncQueue.enqueueAndForget((async()=>Ub(await O_(_),Z)))}})(v0(d),y,u,h)}function Oc(s,e){return(function(r,u){const h=new _r;return r.asyncQueue.enqueueAndForget((async()=>Kb(await l2(r),u,h))),h.promise})(v0(s),e)}function D2(s,e,i){const r=i.docs.get(e._key),u=new I0(s);return new vr(s,u,e._key,r,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}function V2(...s){return new Fd("arrayUnion",s)}(function(e,i=!0){(function(u){Os=u})(Z1),nc(new tu("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Ar(new fA(r.getProvider("auth-internal")),new gA(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Ts(ky,Hy,e),Ts(ky,Hy,"esm2020")})();const I2={apiKey:"AIzaSyAhPSaCXbmnosLqA2Vw_ZoVcoWrUNW4cl0",authDomain:"secret-santa-330dc.firebaseapp.com",projectId:"secret-santa-330dc",storageBucket:"secret-santa-330dc.firebasestorage.app",messagingSenderId:"929779633920",appId:"1:929779633920:web:80684029553700ed29ade5"},N2=$_(I2),mr=o2(N2),gr="default_game",O2=()=>{const[s,e]=$e.useState([]),[i,r]=$e.useState([]),[u,h]=$e.useState(new Set),[d,y]=$e.useState(!0);return $e.useEffect(()=>{const j=U_(mr,"games",gr,"users"),Z=T2(j,A2("createdAt")),W=G_(Z,J=>{const ut=J.docs.map(gt=>({id:gt.id,...gt.data()}));e(ut),y(!1)},J=>{console.error("Error fetching users:",J),y(!1)});return()=>W()},[]),$e.useEffect(()=>{const j=Es(mr,"games",gr),Z=G_(j,W=>{if(W.exists()){const J=W.data();r(J.assignments||[]),h(new Set(J.revealed||[]))}},W=>{console.error("Error fetching game data:",W)});return()=>Z()},[]),{users:s,assignments:i,revealed:u,addUser:async j=>{try{const Z=U_(mr,"games",gr,"users");await w2(Z,{name:j,createdAt:new Date().toISOString()})}catch(Z){console.error("Error adding user:",Z),alert("Error al aadir usuario: "+Z.message)}},removeUser:async j=>{try{await C2(Es(mr,"games",gr,"users",j))}catch(Z){console.error("Error removing user:",Z),alert("Error al eliminar usuario: "+Z.message)}},assign:async()=>{try{const j=bT(s),Z=Es(mr,"games",gr);await H_(Z,{assignments:j,revealed:[]},{merge:!0})}catch(j){alert(j.message)}},reset:async()=>{try{const j=Es(mr,"games",gr);await H_(j,{assignments:[],revealed:[]},{merge:!0})}catch(j){console.error("Error resetting game:",j)}},markAsRevealed:async j=>{try{const Z=Es(mr,"games",gr);await R2(Z,{revealed:V2(j)})}catch(Z){console.error("Error marking as revealed:",Z)}},loading:d}},M2=()=>O2(),x2=()=>{const{users:s,assignments:e,revealed:i,addUser:r,removeUser:u,assign:h,reset:d,markAsRevealed:y,loading:v}=M2();return v?st.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:"Cargando..."}):e.length>0?st.jsx(ST,{assignments:e,revealed:i,onMarkAsRevealed:y,onReset:d}):st.jsxs("div",{style:{width:"100%"},children:[st.jsx(_T,{onAddUser:r}),st.jsxs("div",{style:{marginBottom:"2rem"},children:[st.jsxs("h3",{style:{marginBottom:"1rem",color:"var(--color-secondary)"},children:["Participantes (",s.length,")"]}),st.jsx(vT,{users:s,onRemoveUser:u})]}),s.length>1&&st.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:st.jsx("button",{className:"btn-primary",onClick:h,style:{fontSize:"1.2rem",width:"100%"},children:" Realizar Sorteo"})})]})};function z2(){return st.jsx(yT,{children:st.jsx(x2,{})})}pT.createRoot(document.getElementById("root")).render(st.jsx($e.StrictMode,{children:st.jsx(z2,{})}));
